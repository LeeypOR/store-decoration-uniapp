{"version":3,"sources":["uni-app:///main.js","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/pagesA/order/waitPay.vue?f414","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/pagesA/order/waitPay.vue?3ed8","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/pagesA/order/waitPay.vue?bc08","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/pagesA/order/waitPay.vue?e887","uni-app:///pagesA/order/waitPay.vue","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/pagesA/order/waitPay.vue?1976","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/pagesA/order/waitPay.vue?67b1"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","name","components","InviteFriend","PeopleNum","OrderInfo","tradSuccess","shopCard","goodsInfo","orderBtn","onLoad","console","onShow","data","title","orderId","goodsId","orderDetail","groupType","loading","goodsType","virtualHint","computed","getName","addresData","navbarTitle","refundBtnShow","paymentWay","refundName","methods","fetchOrderList","orderGoodsId","res","setTimeout","refund","goPay","orderPayType","paySign","timeStamp","nonceStr","package","signType","success","fail"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;AACc;AACwB;;;AAG5F;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACxBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sLAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpDA;AAAA;AAAA;AAAA;AAAq0B,CAAgB,qyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCiGz1B;EACAC;EACAC;IAAAC;IAAAC;IAAAC;IAAAC;IAAAC;IAAAC;IAAAC;EAAA;EACAC;IACA;MACA;IACA;MACA;MACA;QACA;QACA;MACA;IACA;IACA;IACAC;EACA;EACAC;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA;MAEAC;MACAA;MAEA;IACA;IACAC;MACA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MAAA;MACA;MACA;MACA;MACA;QAAA;QACAC;MACA;MAEA;QACA;MACA;MAEA;QAAA;QACA;UACA;QACA;MACA;QAAA;QACA;UAAA;UACA;QACA;UAAA;UACA;YACA;UACA;UACA;QACA;MACA;MACA;IACA;IACAC;MAAA;MACA;MACA;QAAA;QACA;QACAD;QACA;UAAA;UACA;QACA;QACA;UAAA;UACA;YACA;UACA;QAEA;UACA;YAAA;YACA;UACA;YAAA;YAAA;YACA;cAAA;cACA;YACA;cAAA;cAAA;cACA;gBACA;cACA;gBACA;cACA;YACA;UAEA;QACA;UACA;YAAA;YACA;UACA;QACA;QACA;MAEA;IAEA;EACA;EAEAE;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBAAAf;kBAAAgB;gBAAA;cAAA;gBAAAC;gBACA;gBACAC;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MAAA;MACA;MACA;MACA;QACA;MACA;QAAA;QACA;UACA;QACA;UAAA;UACA,0DACA,+UACA;QACA;MAEA;IAEA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBAAApB;kBAAAqB;gBAAA;cAAA;gBAAA;gBAAAJ;gBACAK,yEACA;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBACA;gBACA;gBAAA;cAAA;gBAGA;gBACAzC;kBACA0C;kBACAC;kBACAC;kBACAC;kBACAJ;kBACAK;oBACA;kBACA;kBACAC;oBACAhC;oBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACvRA;AAAA;AAAA;AAAA;AAAoiD,CAAgB,o6CAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;ACAxjD;AAAA;AAAA;AAAA;AAA4jD,CAAgB,47CAAG,EAAC,C","file":"pagesA/order/waitPay.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesA/order/waitPay.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./waitPay.vue?vue&type=template&id=49076fa4&scoped=true&\"\nvar renderjs\nimport script from \"./waitPay.vue?vue&type=script&lang=js&\"\nexport * from \"./waitPay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./waitPay.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./waitPay.vue?vue&type=style&index=1&id=49076fa4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49076fa4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesA/order/waitPay.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./waitPay.vue?vue&type=template&id=49076fa4&scoped=true&\"","var components\ntry {\n  components = {\n    uNavbar: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-navbar/u-navbar\" */ \"uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 =\n    _vm.orderDetail &&\n    _vm.orderDetail.orderStatus != \"ORDER_UN_EVALUATE\" &&\n    _vm.orderDetail.orderStatus != \"ORDER_CANCEL\" &&\n    _vm.orderDetail != null &&\n    !(_vm.orderDetail.orderStatus == \"ORDER_UN_RECEIVED\") &&\n    !_vm.orderDetail.orderCode\n      ? _vm.getOrderStatus(_vm.orderDetail.orderStatus)\n      : null\n  var g0 = _vm.orderDetail && _vm.orderDetail.orderGoodsList.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./waitPay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./waitPay.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"g-wait-pay\">\r\n    <!-- <block v-if=\"loading\">\r\n        <waitPayskeleton  />\r\n    </block> -->\r\n    <block>\r\n        <u-navbar z-index=\"999999\" :border-bottom=\"false\" :title=\"navbarTitle\"\r\n                title-size=\"36\">\r\n    </u-navbar>\r\n    <view class=\"u-m-t-20\">\r\n        <trad-success :liftCode=\"orderDetail && orderDetail.orderCode\" title=\"自提码\" tip=\"自提时需要将自提码给店员\" type=\"code\" v-if=\"orderDetail && orderDetail.orderCode\"></trad-success>\r\n     <!-- 交易成功 -->\r\n    <trad-success title=\"交易成功啦\" tip=\"写评价分享你的购物心情吧\" v-if=\"orderDetail && orderDetail.orderStatus == 'ORDER_UN_EVALUATE'\"></trad-success>\r\n    <trad-success title=\"交易已关闭\" tip=\"再逛一逛，下一件一定是有缘分的宝贝～\" type=\"fail\" v-if=\"orderDetail && (orderDetail.orderStatus == 'ORDER_CLOSE' || orderDetail.orderStatus == 'ORDER_CANCEL')\"></trad-success>\r\n    </view>\r\n    \r\n    <view class=\"\" v-if=\"orderDetail\">\r\n        <view v-if=\"orderDetail.orderStatus != 'ORDER_UN_EVALUATE' && orderDetail.orderStatus != 'ORDER_CANCEL'\" class=\"address-card\">\r\n\t\t\t<view class=\"wait-pay\" :style=\"{marginLeft:orderDetail.orderStatus == 'ORDER_UN_RECEIVED'?'30rpx':'108rpx'}\">\r\n\t\t\t\t<view class=\"u-flex u-row-between u-padding-right-30\">\r\n\t\t\t\t\t<view class=\"u-flex\">\r\n\t\t\t\t\t\t<image v-if=\"orderDetail.orderStatus == 'ORDER_UN_RECEIVED' \" class=\"transport\" src=\"../static/image/icon_transport.png\"></image>\r\n\t\t\t\t\t\t<view v-if=\" orderDetail!= null\" class=\"name\">\r\n\t\t\t\t\t\t\t<text v-if=\"orderDetail.orderStatus == 'ORDER_UN_RECEIVED'\">运输中...</text>\r\n\t\t\t\t\t\t\t<view v-else>\r\n\t\t\t\t\t\t\t\t<text v-if=\"!orderDetail.orderCode\">{{getOrderStatus(orderDetail.orderStatus).name}}</text>\r\n                <view class=\"virtual-hint\" v-if=\"goodsType == 3\">{{virtualHint}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"orderDetail.orderStatus == 'ORDER_UN_RECEIVED' && orderDetail.orderGoodsList[0].goodsType !=3 \" @click=\"goTo(`/pagesA/shop/logistic?orderId=${orderDetail.orderGoodsList[0].id}`)\" class=\"check-logistics u-flex u-row-center\">查看物流</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- <view v-if=\"orderDetail.orderStatus == 'ORDER_UNPAID'\" class=\"wait-time\">\r\n\t\t\t\t\t剩余付款时间01小时59分45秒\r\n\t\t\t\t</view> -->\r\n\t\t</view>\r\n\t\t<view class=\"u-flex address\" :style=\"{'margin-top':orderDetail && orderDetail.orderCode?'0':''}\">\r\n\t\t\t<image src=\"../static/image/icon_address.png\"></image>\r\n\t\t\t<view class=\"card-left\">\r\n        <view class=\"left-top\" v-if=\"!orderDetail.orderCode\">\r\n            <text class=\"left-user-name\">{{getName.name}}</text>\r\n            <text class=\"left-user-phone\">{{getName.phone}}</text>\r\n        </view>\r\n        <view class=\"shoname\" v-else>\r\n            {{orderDetail.shopName}}\r\n        </view>\r\n        <view class=\"left-bottom\">\r\n            {{orderDetail.detailAddress?orderDetail.detailAddress:''}}\r\n        </view>\r\n      </view>\r\n\t\t</view>\r\n        </view>\r\n    </view>\r\n    <!--  成团人数  -->\r\n    <people-num v-if=\"orderDetail && orderDetail.isGroup == 0 && orderDetail\" :peopleInfo=\"orderDetail\"></people-num>\r\n    <!--  邀请好友  -->\r\n    <invite-friend v-if=\"false\"></invite-friend>\r\n    <view v-if=\"orderDetail && orderDetail.orderGoodsList.length\" class=\"store-card\">\r\n        <shop-card :sort=\"true\" :titleShow=\"false\" :shopList=\"orderDetail && orderDetail.orderGoodsList\"></shop-card>\r\n\t\t<!-- v-if=\"orderDetail.orderStatus == 'ORDER_UN_RECEIVED' && orderDetail.returnGoodsAuditStatus == 0\" -->\r\n        <view class=\"u-flex u-row-right\">\r\n        <view v-if=\"refundBtnShow\" @click=\"refund\" class=\"exchange u-flex u-row-center u-m-b-20\">\r\n            {{refundName}}\r\n        </view>\r\n        </view>\r\n    </view>\r\n\t\r\n    <!-- 计算详情  -->\r\n\t<view v-if=\"orderDetail\">\r\n\t\t<goods-info :detail=\"orderDetail\"></goods-info>\r\n\t</view>\r\n    <!-- 积分    -->\r\n\t<view class=\"get-point\" v-if=\"orderDetail && orderDetail.orderStatus != 'ORDER_UNPAID' && orderDetail.predictIntegrate!='0'\">\r\n\t\t<text class=\"core\">积分</text>\r\n\t\t<text class=\"get-core\">获得<text class=\"text-colore\">{{orderDetail.predictIntegrate}}</text>积分</text>\r\n\t</view>\r\n    <order-info v-if=\"orderDetail\" :detail=\"orderDetail\"></order-info>\r\n    <!--  底部btn  -->\r\n\t<view v-if=\"orderDetail && groupType == 'common'\">\r\n\t\t<order-btn :bntData=\"orderDetail\" direction=\"column\"></order-btn>\r\n\t</view>\r\n    <view v-if=\"orderDetail && groupType == 'group' \">\r\n      <order-btn :bntData=\"orderDetail\" groupType=\"group\" direction=\"column\"></order-btn>\r\n    </view>\r\n    </block>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport OrderInfo from \"../components/orderInfo\";\r\nimport tradSuccess from \"../components/tradSuccess.vue\";\r\nimport shopCard from \"@/components/shopCard.vue\";\r\nimport goodsInfo from \"../components/goodsInfo.vue\";\r\nimport orderBtn from \"@/components/orderBtn.vue\";\r\nimport PeopleNum from \"../components/peopleNum\";\r\nimport InviteFriend from \"../components/inviteFriend\";\r\nexport default {\r\n    name: \"OrderDetail\",\r\n    components: {InviteFriend, PeopleNum, OrderInfo,tradSuccess,shopCard,goodsInfo,orderBtn},\r\n    onLoad(options){\r\n        if(options?.orderId){\r\n            this.orderId = options.orderId\r\n        }else{\r\n            this.orderId = JSON.parse(options.detail).orderId\r\n            if(JSON.parse(options.detail).orderGoods){\r\n                this.goodsId = JSON.parse(options.detail).orderGoods[0].id\r\n                this.goodsType = JSON.parse(options.detail).orderGoods[0].goodsType\r\n            }\r\n        }\r\n        // this.groupType = 'group'\r\n        console.log('-----------', options)\r\n    },\r\n    onShow(){\r\n        this.fetchOrderList()\r\n    },\r\n    data() {\r\n        return{\r\n            title:'订单详情',\r\n            orderId:'',\r\n            goodsId:'',\r\n            orderDetail:null,\r\n            groupType:'common',\r\n            loading:true,\r\n            goodsType: '',\r\n            virtualHint:'注：虚拟产品下单后6个月内未使用可随时退款，6个月之后自动发货，如有问题请联系客服。'\r\n        }\r\n    },\r\n    computed:{\r\n        getName(){\r\n            let addresData = {}\r\n      \r\n            addresData.name=this.orderDetail?.addressConfig?.contactName ||this.orderDetail?.userName\r\n            addresData.phone=this.orderDetail?.addressConfig?.phone ||this.orderDetail?.userPhone\r\n      \r\n            return addresData\r\n        },\r\n        navbarTitle(){\r\n            if(this.orderDetail){\r\n                if(this.orderDetail.orderStatus == 'ORDER_UNPAID') {\r\n                    return '等待买家付款'\r\n                }else if(this.orderDetail.orderStatus == 'ORDER_UN_ISSUE'){\r\n                    return '等待卖家发货'\r\n                }else if(this.orderDetail.orderStatus == 'ORDER_UN_RECEIVED'){\r\n                    return '卖家已发货'\r\n                }else if(this.orderDetail.orderStatus == 'ORDER_UN_EVALUATE'){\r\n                    return '交易成功'\r\n                }else if(this.orderDetail.orderStatus == 'ORDER_CLOSE'){\r\n                    return '交易关闭'\r\n                }else if(this.orderDetail.orderStatus == 'ORDER_CANCEL'){\r\n                    return '订单已取消'\r\n                } else if(this.orderDetail.orderStatus == 'ORDER_FINISH'){\r\n                    return '订单已完成'\r\n                } else if(this.orderDetail.orderStatus == 'ORDER_LEFT_WAIT'){\r\n                    return '商品自提'\r\n                }\r\n            } \r\n        },\r\n        refundBtnShow(){ //退款换货按钮显示\r\n            let goodsData = this.orderDetail?.orderGoodsList || []\r\n            const goodsType = goodsData[0]?.goodsType\r\n            let paymentWay\r\n            if(goodsData.length){\r\n                paymentWay=goodsData[0]?.paymentWay\r\n            }\r\n\r\n            if(goodsType == 3){\r\n                return false\r\n            }\r\n\r\n            if(['ORDER_UN_ISSUE','ORDER_CLOSE'].includes(this.orderDetail?.orderStatus)){ \r\n                if(this.orderDetail.orderActualPrice!='0'&& ['TO_AUDIT','APPROVE_AUDIT','REFUND_OF','REFUND_FINISH'].includes(this.orderDetail?.returnGoodsStatus)){\r\n                    return true\r\n                }\r\n            }else if(this.orderDetail?.orderStatus == 'ORDER_UN_RECEIVED'){\r\n                if((paymentWay ==2 || paymentWay ==3)&&(!this.orderDetail?.swapGoodsStatus)){//积分换货\r\n                    return true  \r\n                }else{//普通\r\n                    if(paymentWay ==2 || paymentWay ==3){\r\n                        return false\r\n                    }\r\n                    return true\r\n                }\r\n            }\r\n            return false\r\n        },\r\n        refundName(){ //退款换货按钮的名字\r\n            // let goodsData = this.orderDetail?.orderGoodsList || []\r\n            if(this.orderDetail){\r\n                let paymentWay\r\n                paymentWay=this.orderDetail?.paymentWay\r\n                if( this.orderDetail?.returnGoodsStatus=='REFUND_FINISH'){ //repairsType 退款类型(1.仅退款 2.退货退款)\r\n                    return '退款成功'\r\n                }\r\n                if(this.orderDetail?.orderStatus == 'ORDER_UN_ISSUE' && this.orderDetail?.repairsType && this.orderDetail?.returnGoodsStatus) {\r\n                    if(this.orderDetail?.repairsType==1 && ['TO_AUDIT','APPROVE_AUDIT','REFUND_OF','APPROVE_AUDIT'].includes(this.orderDetail?.returnGoodsStatus)){\r\n                        return '退款中'\r\n                    }\r\n               \r\n                }else if(this.orderDetail?.orderStatus == 'ORDER_UN_RECEIVED'){\r\n                    if(paymentWay ==2 || paymentWay ==3){//积分换货\r\n                        return '换货'\r\n                    }else{//普通\r\n                        if(!this.orderDetail?.repairsType){//没有申请退换货\r\n                            return '退换'\r\n                        }else{//已经换货了，根据returnGoodsStatus退货订单状态来判断展现的文字提示\r\n                            if(['TO_AUDIT','APPROVE_AUDIT','WAITING_DELIVERY','WAITING_GOODS','RECEIVED_GOODS'].includes(this.orderDetail?.returnGoodsStatus)){\r\n                                return '退货中'\r\n                            }else if(this.orderDetail?.returnGoodsStatus=='REFUND_OF'){\r\n                                return '退款中'     \r\n                            }\r\n                        }\r\n                    \r\n                    }\r\n                }else {\r\n                    if(paymentWay ==2 || paymentWay ==3){//积分换货\r\n                        return '换货'\r\n                    }\r\n                }\r\n                return '退换'\r\n\r\n            }\r\n            \r\n        }\r\n    },\r\n    \r\n    methods:{\r\n    // 获取订单详情\r\n        async fetchOrderList(){\r\n            let res = await this.$http.getOrderDetail({orderId:this.orderId,orderGoodsId:this.goodsId})\r\n            this.orderDetail = res.dataInfo\r\n            setTimeout(()=> {\r\n                this.loading = false\r\n            }, 1000);\r\n        },\r\n        refund(){\r\n            let goodsData = this.orderDetail?.orderGoodsList\r\n            let paymentWay = goodsData[0]?.paymentWay\r\n            if(paymentWay ==2 || paymentWay ==3){\r\n                this.goTo(`/pagesA/afterSales/selectServe?detail=${JSON.stringify(goodsData)}`)\r\n            }else{\r\n                if(this.orderDetail?.repairsType==1 ||(this.orderDetail?.repairsType==2&&(this.orderDetail?.returnGoodsStatus!='REVIEW_FAILED'&& this.orderDetail?.returnGoodsStatus!='USER_CANCEL'))){\r\n                    this.goTo('/pagesA/afterSales/refundRecord')\r\n                }else{\r\n                    this.goTo(\r\n                        `/pagesA/afterSales/refund?orderStatus=${this.orderDetail.orderStatus}&detail=${JSON.stringify((this.orderDetail?.orderGoods ||this.orderDetail?.orderGoodsList ||[]))}`\r\n                    ) \r\n                }\r\n            \r\n            }\r\n        \r\n        },\r\n        // 去支付\r\n        async goPay(orderId){\r\n            const {dataInfo: res} = await this.$http.payWxOrder({orderId:this.orderId,orderPayType:7})\r\n            const paySign = res?.paySign || ''\r\n            // 如果获取失败 就直接跳转到订单待支付页面\r\n            if(!paySign){\r\n                // 跳转待支付页面\r\n                this.goTo('/pagesA/order/waitPay')\r\n                return\r\n            }\r\n            // 成功 调起微信支付\r\n            wx.requestPayment({\r\n                timeStamp: res.timeStamp,\r\n                nonceStr: res.nonceStr,\r\n                package: res.packageValue,\r\n                signType: res.signType,\r\n                paySign: res.paySign,\r\n                success: (res)=> {\r\n                    this.goTo('/pagesA/shop/paySuccess')\r\n                },\r\n                fail: (res)=> {\r\n                    console.log(res)\r\n                    this.goTo('/pagesA/order/waitPay')\r\n                }\r\n            })\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  page{\r\n    background: #F8F8F8;\r\n  }\r\n\r\n</style>\r\n<style lang=\"scss\" scoped >\r\n.g-wait-pay{\r\n  padding-bottom: iphone-bottom(4rpx);\r\n}\r\n.head{\r\n  padding: 20rpx 30rpx;\r\n  // position: fixed;\r\n  width: 100%;\r\n  // top: 0;\r\n  // background-image: linear-gradient(45deg, #FFA132 0%, #FF612C 100%);\r\n  .head-card {\r\n    border-radius: 14rpx;\r\n    // background: #ffffff;\r\n    padding: 35rpx 30rpx;\r\n    image {\r\n      width: 68rpx;\r\n      height: 68rpx;\r\n    }\r\n    .head-card-content {\r\n      flex: 1;\r\n      margin-left: 30rpx;\r\n      .head-card-title{\r\n        font-size: 32rpx;\r\n        color: #191919;\r\n        font-weight: 500;\r\n      }\r\n      .head-card-tip{\r\n        margin-top: 4rpx;\r\n        font-size: 24rpx;\r\n        color: #666666;\r\n        font-weight: 400;\r\n      }\r\n    }\r\n    .head-card-btn{\r\n      padding: 15rpx 44rpx;\r\n      display: inline-block;\r\n      border: 2rpx solid #999999;\r\n      border-radius: 45rpx;\r\n      font-size: 28rpx;\r\n      color: #666666;\r\n    }\r\n  }\r\n}\r\n// 地址管理\r\n.address-card {\r\n  background: #ffffff;\r\n  padding:  40rpx 0 37rpx 0;\r\n  margin-top: 20rpx;\r\n  .address{\r\n        margin-top: 36rpx;\r\n        image {\r\n        margin-left: 30rpx;  \r\n        width: 68rpx;\r\n        height: 68rpx;\r\n    }\r\n    .card-left{\r\n        flex: 1;\r\n        margin-left: 10rpx;\r\n        padding-right: 69rpx;\r\n    .left-top{\r\n        .left-user-name{\r\n            font-size: 32rpx;\r\n            color: #191919;\r\n            font-weight: 500;\r\n        }\r\n        .left-user-phone{\r\n            margin-left: 20rpx;\r\n            font-size: 28rpx;\r\n            color: #666666;\r\n            font-weight: 400;\r\n        }\r\n    }\r\n    .left-bottom{\r\n        margin-top: 16rpx;\r\n        font-size: 30rpx;\r\n        color: #999999;\r\n        letter-spacing: 0;\r\n        line-height: 42rpx;\r\n        font-weight: 400;\r\n    }\r\n    }\r\n    .shoname{\r\n        font-size: 32rpx;\r\n        color: #191919;\r\n        font-weight: 500;\r\n    }\r\n  }\r\n  \r\n  .wait-pay{\r\n        margin-left:108rpx ;\r\n    .transport{\r\n        width: 68rpx;\r\n        height: 68rpx;\r\n    }\r\n    .name{\r\n        margin-bottom: 10rpx;\r\n        font-size: 36rpx;\r\n        color: #191919;\r\n        font-weight: 500;\r\n    }\r\n    .check-logistics{\r\n        width: 158rpx;\r\n        height: 50rpx;\r\n        border: 2rpx solid #999999;\r\n        border-radius: 45rpx;\r\n    }\r\n    .wait-time{\r\n        font-size: 28rpx;\r\n        color: #666666;\r\n    }\r\n  }\r\n  \r\n}\r\n\r\n// 订单\r\n.store-card{\r\n  margin-top: 20rpx;\r\n  padding: 0 30rpx;\r\n  background: #ffffff;\r\n  margin-bottom: 18rpx;\r\n  .store-item {\r\n    padding: 16rpx 0;\r\n    justify-content: space-between;\r\n    image {\r\n      width: 26rpx;\r\n      height: 26rpx;\r\n    }\r\n    .store-name {\r\n      margin-left: 10rpx;\r\n      font-size: 24rpx;\r\n      color: #191919;\r\n      font-weight: 400;\r\n    }\r\n    .order-state{\r\n      font-size: 28rpx;\r\n      color: #FB5324;\r\n      font-weight: 400;\r\n    }\r\n  }\r\n  .exchange{\r\n        width: 158rpx;\r\n        height: 50rpx;\r\n        border: 2rpx solid #999999;\r\n        border-radius: 45rpx;\r\n  }\r\n  .goods-item{\r\n    padding: 30rpx 0rpx;\r\n    image{\r\n      width:160rpx;\r\n      height: 160rpx;\r\n      margin-right: 30rpx;\r\n    }\r\n    .item-right-center{\r\n      flex: 1;\r\n      height: 160rpx;\r\n      flex-direction: column;\r\n      justify-content: space-between;\r\n      .top-center{\r\n        .title{\r\n          font-size: 20rpx;\r\n          color: #000000;\r\n          font-weight: 400;\r\n        }\r\n        .tip{\r\n          margin-top: 6rpx;\r\n          width: 410rpx;\r\n          font-size: 20rpx;\r\n          color: #999999;\r\n          font-weight: 400;\r\n        }\r\n        .goods-num{\r\n          font-size: 20rpx;\r\n          color: #999999;\r\n          font-weight: 400;\r\n        }\r\n      }\r\n      .bottom-center{\r\n        width: 100%;\r\n        justify-content: space-between;\r\n        .goods-pic{\r\n          font-size: 28rpx;\r\n          color: #191919;\r\n          font-weight: 400;\r\n        }\r\n        .goods-btn{\r\n          border: 2rpx solid #999999;\r\n          border-radius: 45rpx;\r\n          padding: 8rpx 55rpx;\r\n          font-size: 24rpx;\r\n          color: #666666;\r\n          font-weight: 400;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n.go-pay{\r\n\twidth: 690rpx;\r\n\theight: 90rpx;\r\n\tmargin:  0 auto;\r\n\tmargin-top: 50rpx;\r\n\tbackground: #E8B759;\r\n\tborder-radius: 45rpx;\r\n\tfont-size: 32rpx;\r\n\ttext-align: center;\r\n\tline-height: 90rpx;\r\n\tcolor: #FFFFFF;\r\n\tfont-weight: 500;\r\n\t\r\n}\r\n.cancel-order{\r\n\twidth: 690rpx;\r\n\theight: 90rpx;\r\n\tmargin: 0 auto;\r\n\tmargin-top: 30rpx;\r\n\tmargin-bottom: 50rpx;\r\n\tborder: 1rpx solid #999999;\r\n\tborder-radius: 45rpx;\r\n\tfont-size: 32rpx;\r\n\tcolor: #666666;\r\n\ttext-align: center;\r\n\tline-height: 88rpx;\r\n\tfont-weight: 500;\r\n}\r\n// 积分\r\n .get-point{\r\n\t height: 100rpx;\r\n\t padding: 33rpx 30rpx;\r\n\t margin-top: 30rpx;\r\n\t background: #FFFFFF;\r\n\t color: #E1544A;\r\n\t .core{\r\n\t\t border-radius: 4rpx;\r\n\t\t border: 1rpx solid #E1544A;\r\n\t\t padding: 3rpx 16rpx;\r\n\t\t margin-right: 20rpx;\r\n\t\t font-size: 20rpx;\r\n\t\t font-weight: 400;\r\n\t }\r\n\t .get-core{\r\n\t\t font-size: 28rpx;\r\n\t\t font-weight: 400;\r\n\t\t color: #191919;\r\n\t\t .text-colore{\r\n\t\t\t  color: #E1544A;\r\n\t\t }\r\n\t }\r\n }\r\n\r\n .virtual-hint{\r\n   font-size: 24rpx;\r\n   font-family: PingFangSC-Regular, PingFang SC;\r\n   font-weight: 400;\r\n   color: #BD9765;\r\n   line-height: 38rpx;\r\n }\r\n /deep/.store-card{\r\n   padding: 0 15rpx!important;\r\n }\r\n</style>","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./waitPay.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./waitPay.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./waitPay.vue?vue&type=style&index=1&id=49076fa4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./waitPay.vue?vue&type=style&index=1&id=49076fa4&lang=scss&scoped=true&\""],"sourceRoot":""}