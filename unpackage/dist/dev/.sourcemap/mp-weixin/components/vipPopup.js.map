{"version":3,"sources":["webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/components/vipPopup.vue?043e","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/components/vipPopup.vue?4c6d","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/components/vipPopup.vue?fc3c","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/components/vipPopup.vue?1ede","uni-app:///components/vipPopup.vue","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/components/vipPopup.vue?8869"],"names":["props","refresh","type","default","dataInfo","data","cardShow","popupInfo","popupList","watch","computed","getImage","getPopup","getTitle","methods","cardClose","setTimeout","memberPopup","res","list","popupControl","popupClick"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACsC;;;AAG7F;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAAuzB,CAAgB,syBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACsB30B;AAAA;AAAA;AAAA,eACA;EACAA;IACAC;MACAC;MACAC;IACA;IACA;IACAD;MACAA;MACAC;IACA;IACAC;MACAF;MACAC;IACA;EACA;EACAE;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;;EACAC;IACAL;MACA;QACA;MACA;IACA;EACA;EACAM,0CACA;IACA;IACAC;MACA;MACA;QACA;MACA;MACA;MACA;QACA;UACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;QACA;MACA;MACA;MACA;QACA;MACA;MACA;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;UACA;QACA;QACA;MACA;IACA;EAAA,EACA;EACAC,yCACA;IACA;IACAC;MAAA;MACA;MACAC;QACA;MACA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBAAAf;gBAAA;cAAA;gBAAAgB;gBACAC;gBACA;kBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAC;MACA;MACA;QACA;QACA;QACA;QACAD;QACA;MACA;IACA;IACA;IACAE;MACA;MACA;MACA;QACA;QACA;QACA;MACA;MACA;QACA;QACA;QACA;MACA;MACA;QACA;UACA;UACA;QACA;QACA;QACA;MACA;MACA;IACA;EAAA;AAEA;AAAA,2B;;;;;;;;;;;;ACjLA;AAAA;AAAA;AAAA;AAAkiD,CAAgB,67CAAG,EAAC,C","file":"components/vipPopup.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./vipPopup.vue?vue&type=template&id=709a574a&scoped=true&\"\nvar renderjs\nimport script from \"./vipPopup.vue?vue&type=script&lang=js&\"\nexport * from \"./vipPopup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./vipPopup.vue?vue&type=style&index=0&id=709a574a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"709a574a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/vipPopup.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./vipPopup.vue?vue&type=template&id=709a574a&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = [3, 4].includes(_vm.popupInfo.popupWindowType)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./vipPopup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./vipPopup.vue?vue&type=script&lang=js&\"","<template>\r\n  <view>\r\n    {{getPopup ||  ''}}\r\n    <view class=\"mask\" catchtouchmove=\"\" :mask-click-able=\"false\" :custom-style=\"{background: 'rgba(0, 0, 0, 0.5)'}\" v-show=\"cardShow\" >\r\n      <view class=\"card-wrap\" >\r\n        <view style=\"width: 750rpx;height: 750rpx;position: relative\">\r\n          <image  @click=\"popupClick\" mode=\"aspectFill\" style=\"width: 100%;height: 100%\" :src=\"getImage\" ></image>\r\n          <!-- 生日提示 -->\r\n          <view class='popup-title'>{{getTitle}}</view>\r\n          <!-- 导入会员提示 -->\r\n          <view class=\"vip-title\" v-if=\"[3,4].includes(popupInfo.popupWindowType)\">\r\n            <view class=\"tip\">{{popupInfo.prompt || (popupInfo.popupWindowType == 4?'恭喜您获得金勋会员体验权！':'')}}</view>\r\n            <view class=\"data\">{{popupInfo.expireDate?`有效期至 ${popupInfo.expireDate}`:'永久有效'}}</view>\r\n          </view >\r\n        </view>\r\n        <view @click=\"cardClose\" class=\"iconfont icon-closed\" style=\"font-size: 61rpx;color: white;\"></view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters,mapMutations  } from 'vuex'\r\nexport default {\r\n  props:{\r\n    refresh:{\r\n      type:String,\r\n      default:''\r\n    },\r\n    //  弹窗类型\r\n    type:{\r\n      type:[String,Number],\r\n      default: ''\r\n    },\r\n    dataInfo:{\r\n      type:Object,\r\n      default:null\r\n    }\r\n  },\r\n  data(){\r\n    return {\r\n      cardShow:false,    // 是否显示弹窗\r\n      popupInfo:{},     // 弹窗信息\r\n      popupList:[]      // 弹窗列表\r\n    }\r\n  },\r\n  watch:{\r\n    dataInfo:function (){\r\n      if(this.dataInfo){\r\n        this.popupControl()\r\n      }\r\n    }\r\n  },\r\n  computed:{\r\n    ...mapGetters(['getVipPopupList']),\r\n    // 获取弹窗图片\r\n    getImage(){\r\n      const obj = this.popupInfo || {}\r\n      if(obj?.popupWindowStyle){\r\n        return obj?.popupWindowStyle\r\n      }\r\n      // 升级\r\n      if(obj?.popupWindowType == 1){\r\n        if(obj?.gradeLevel == 1){\r\n            return 'https://jdz.g1999.com/ghs/20211017/f92afdfdd08840d3b3ea98c78a5c6a70.png'\r\n        }\r\n        if(obj?.gradeLevel == 2){\r\n          return 'https://jdz.g1999.com/ghs/20211017/a76b0a4ad5444996a7a2d769c51af160.png'\r\n        }\r\n        if(obj?.gradeLevel == 3){\r\n          return 'https://jdz.g1999.com/ghs/20211017/408b0a37b8ea4a109a5fe03a1946df36.png'\r\n        }\r\n        if(obj?.gradeLevel == 4){\r\n          return 'https://jdz.g1999.com/ghs/20211017/c9cc81643a9740e3bcc7549e1290763b.png'\r\n        }\r\n        if(obj?.gradeLevel == 5){\r\n          return 'https://jdz.g1999.com/ghs/20211017/6111b72cd3414e0987ebcc77af574fd7.png'\r\n        }\r\n        if(obj?.gradeLevel == 6){\r\n          return 'https://jdz.g1999.com/ghs/20211017/ea9c33bf66204a4da53f4b90d9317356.png'\r\n        }\r\n        return 'https://jdz.g1999.com/ghs/20211017/ea9c33bf66204a4da53f4b90d9317356.png'\r\n      }\r\n      // 生日\r\n      if(obj?.popupWindowType == 2){\r\n        return 'https://jdz.g1999.com/ghs/20211017/ed1e84565d06443d91ff164b52b21ea1.png'\r\n      }\r\n      // 导入会员\r\n      if([3,4].includes(obj?.popupWindowType)){\r\n        return 'https://jdz.g1999.com/ghs/20220223/278a5f4045cb4e2f84bd121f7cdd0120.png'\r\n      }\r\n    },\r\n    getPopup(){\r\n      if(this.refresh){\r\n        this.memberPopup()\r\n      }\r\n      return ''\r\n    },\r\n    // 获取弹窗title\r\n    getTitle(){\r\n      const obj = this.popupInfo || {}\r\n      if(obj.popupWindowType == 2){\r\n        if(obj.integralRatio){\r\n          return `今天购买商品可获得${obj.integralRatio}倍积分`\r\n        }\r\n        return  '为您准备了专属生日礼包'\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    ...mapMutations(['setVipPopupList']),\r\n    // 关闭弹窗\r\n    cardClose(){\r\n      this.cardShow = false\r\n      setTimeout(()=>{\r\n        this.popupControl()\r\n      },500)\r\n    },\r\n    // 获取弹窗信息\r\n    async memberPopup(){\r\n      const res = await this.$http.memberPopup({type:this.type})\r\n      const list = this.getVipPopupList || []\r\n      if(res?.dataInfo){\r\n        this.setVipPopupList(list.concat(res?.dataInfo || []))\r\n      }\r\n      // else{\r\n      //   this.setVipPopupList([\r\n      //     {\r\n      //       gradeLevel:0,\r\n      //       integralRatio:null,\r\n      //       jumpType:3,\r\n      //       mspageId:null,\r\n      //       popupWindowStyle:null,\r\n      //       popupWindowType:1,\r\n      //     }\r\n      //   ])\r\n      // }\r\n      if(!this.cardShow){\r\n        this.popupControl()\r\n      }\r\n    },\r\n    // 弹窗控制\r\n    popupControl(){\r\n      const list = this.getVipPopupList\r\n      if(list.length>0){\r\n        let obj = list[0]\r\n        this.popupInfo = obj\r\n        this.cardShow = true\r\n        list.splice(0,1)\r\n        this.setVipPopupList(list)\r\n      }\r\n    },\r\n    // 弹窗点击事件\r\n    popupClick(){\r\n      const obj = this.popupInfo || {}\r\n      const type = obj.jumpType\r\n      if(type == 1){\r\n        this.goTo(`/pages/home/miniPage?id=${obj.mspageId}`)\r\n        this.cardShow = false\r\n        return\r\n      }\r\n      if(type == 2){\r\n        this.goTo(`/pagesA/mine/myCoupon`)\r\n        this.cardShow = false\r\n        return\r\n      }\r\n      if(type == 3){\r\n        if(obj.popupWindowType == 2){\r\n          this.cardClose()\r\n          return\r\n        }\r\n        this.goTo('/pages/vipCenter/index',true)\r\n        this.cardShow = false\r\n      }\r\n      this.cardClose()\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.mask{\r\n  top: 0;\r\n  left: 0;\r\n  position: fixed;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  z-index: 99999999999991;\r\n}\r\n.card-wrap{\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  height: 100%;\r\n}\r\n.popup-title{\r\n  position: absolute;\r\n  top: 132rpx;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  font-size: 24rpx;\r\n  font-family: SourceHanSansCN-Regular, SourceHanSansCN;\r\n  font-weight: 400;\r\n  color: #E9D1AE;\r\n}\r\n.vip-title{\r\n  width: 100%;\r\n  text-align: center;\r\n  position: absolute;\r\n  top: 64rpx;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  .tip{\r\n    font-size: 32rpx;\r\n    font-family: SourceHanSansCN-Bold, SourceHanSansCN;\r\n    font-weight: bold;\r\n    color: #C8AD7E;\r\n  }\r\n  .data{\r\n    margin-top: 0rpx;\r\n    font-size: 24rpx;\r\n    font-family: SourceHanSansCN-Regular, SourceHanSansCN;\r\n    font-weight: 400;\r\n    color: #C8AD7E;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./vipPopup.vue?vue&type=style&index=0&id=709a574a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./vipPopup.vue?vue&type=style&index=0&id=709a574a&lang=scss&scoped=true&\""],"sourceRoot":""}