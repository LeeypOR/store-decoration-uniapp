{"version":3,"sources":["uni-app:///main.js","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/pagesC/raffle/index.vue?87c4","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/pagesC/raffle/index.vue?a7e9","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/pagesC/raffle/index.vue?d149","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/pagesC/raffle/index.vue?c5e7","uni-app:///pagesC/raffle/index.vue","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/pagesC/raffle/index.vue?22dc","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/pagesC/raffle/index.vue?9c9b","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/pagesC/raffle/index.vue?6ed1"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","NoData","SharePopup","activityCard","winningPopup","numberPopup","comfirmPopup","data","title","activityId","list","prizePoolList","drawNumber","prizeList","numList","pageMsJson","giftBoxInfo","boxAnimeShow","activityType","timer","isStart","commandValue","commandMsg","computed","getBtnStyle","color","fontSize","fontWeight","background","getShareBtnImg","url","shareBtnText","getGoBtnImg","goShopText","getDrawNumber","isShow","getBgImg","activeNameStyle","activeDesc","borderRadius","residueNum","prizeImg","boxImg","boxStyle","giftPool","titleBorderRadius","titleBackground","myGive","ruleTitle","ruleContent","btnStyle","getWinningImg","winningPrizeImgUrl","winningPrizeColor","noWinningImgUrl","integralImgUrl","integralColor","couponImgUrl","couponColor","onLoad","menus","onShow","onHide","clearInterval","onUnload","onShareAppMessage","path","imageUrl","methods","cancel","command","lotteryQueryNumber","res","showPopup","seePrize","lotteryMyPrize","current","size","drawGive","uni","param","boxNumber","setTimeout","imgObj","lotteryBroadcast","name","lotteryQuery","lotteryAddNumber","password","isShowMsg","isLoading","sourceType","addDrawNumber"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACa;AACyB;;;AAG1F;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACxBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sLAEN;AACP,KAAK;AACL;AACA,aAAa,8LAEN;AACP,KAAK;AACL;AACA,aAAa,kLAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClIA;AAAA;AAAA;AAAA;AAAm0B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACiIv1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAEA;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;;EACAC;IACA;IACAC;MACA;MACA;MACA;QACAC;QACAC;QACAC;QACAC;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;QACAC;MACA;MACA;IACA;IACAC;MACA;MACA;QACAN;QACAC;QACAC;QACA;MACA;IACA;IACA;IACAK;MACA;MACA;MACA;QACAF;MACA;MACA;IACA;IACAG;MACA;MACA;QACAR;QACAC;QACAC;QACA;MACA;IACA;IACA;IACAO;MACA;QACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;QACA;UACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;MACA;MACA;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA,oEACA;QACAZ;QACAC;QACAC;MACA;IACA;IACA;IACAW;MACA;MACA;QACA;QACA;UACAC;QACA;QACA;UACAd;UACAC;UACAC;UACAC;UACAW;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;QACA;UACAD;QACA;QACA;UACAd;UACAC;UACAC;UACAC;UACAW;QACA;MACA;IACA;IACA;AACA;AACA;AACA;IACAE;MAAA;MACA;QAAA;QACA;QACA;QACA;UACA;YACA;UACA;UACA;QACA;QACA;UACA;YACA;UACA;UACA;QACA;QACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;QACA;UACAJ;QACA;QACA;UACAd;UACAC;UACAC;UACAC;UACAW;QACA;MACA;IACA;IACA;IACAK;MACA;MACA;QACA;QACA;QACA;UACAC;QACA;QACA;UACAN;QACA;QACA;UACAd;UACAC;UACAC;UACAmB;UACAlB;UACAiB;UACAN;QACA;MACA;IACA;IACA;IACAQ;MACA;MACA;QACA;QACA;QACA;UACAF;QACA;QACA;UACAN;QACA;QACA;UACAd;UACAC;UACAC;UACAmB;UACAlB;UACAiB;UACAN;QACA;MACA;IACA;IACA;IACAS;MACA;MACA;QACA;QACA;QACA;UACAH;QACA;QACA;UACAN;QACA;QACA;UACAd;UACAC;UACAC;UACAmB;UACAlB;UACAiB;UACAN;QACA;MACA;IACA;IACA;IACAU;MACA;MACA;QACA;QACA;UACAV;QACA;QACA;UACAd;UACAC;UACAC;UACAY;QACA;MACA;IACA;IACA;IACAW;MACA;MACA;QACA;QACA;UACAX;QACA;QACA;UACAd;UACAC;UACAC;UACAC;UACAW;QACA;MACA;IACA;IACAY;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACAC;QACAC;MACA;MACA;QACAC;MACA;MACA;QACAC;QACAC;MACA;MACA;QACAC;QACAC;MACA;MACA;QACAN;QACAE;QACAC;QACAE;MACA;IACA;EACA;EACAE;IACA;IACAhE;MACAiE;IACA;EACA;EACAC;IAAA;IACA;MACA;MAEA;IACA;IACA;IACA;IACA;MACA;QACA;MACA;IACA;EACA;EACAC;IACAC;EACA;EACAC;IACAD;EACA;EACAE;IACA;IACA;MAAA;MAAA,2CACA;QAAA;MAAA;QAAA;UAAA;UACA;YACA;UACA;QACA;MAAA;QAAA;MAAA;QAAA;MAAA;IACA;IACA;IACA;MACAnC;IACA;IACA;MACAtB;MACA0D;MACAC;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA,OAIA;cAAA;gBACA;gBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBAAA9D;gBAAA;cAAA;gBAAA+D;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAC;MACA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;AACA;IACAC;MAAA;MACA;MACA;MACA;QACA5C;MACA;MACA;QACAA;MACA;MACA;QACAA;MACA;MACA;IACA;IACA;IACA6C;MAAA;MAAA;QAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBAAAlE;kBAAAmE;kBAAAC;gBAAA;cAAA;gBAAAL;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAM;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;cAAA;gBAAA,MAGA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;cAAA;gBAGAC;kBAAAvE;gBAAA;gBACAwE;kBACAvE;kBACAwE;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAT;gBACA;gBACA;gBACAU;kBACA;kBACA;gBACA;gBACAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBAAA3E;gBAAA;cAAA;gBAAA+D;gBACA;kBACA;kBACA;oBACAa;kBACA;kBACA;oBACAA;kBACA;kBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBAAA7E;gBAAA;cAAA;gBAAA;gBAAA+D;gBACA;gBACA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAe;MAAA;QAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAAC;gBAAAC;gBAAAC;gBACAV;kBACAvE;kBACAkF;kBACAH;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAhB;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAoB;MACA;MAAA,4CACA;QAAA;MAAA;QAAA;UAAA;UACA;YACA;UACA;QACA;MAAA;QAAA;MAAA;QAAA;MAAA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACtoBA;AAAA;AAAA;AAAA;AAAgrC,CAAgB,gmCAAG,EAAC,C;;;;;;;;;;;ACApsC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAA0jD,CAAgB,07CAAG,EAAC,C","file":"pagesC/raffle/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesC/raffle/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=3f77845d&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=3f77845d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f77845d\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesC/raffle/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=3f77845d&scoped=true&\"","var components\ntry {\n  components = {\n    uNavbar: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-navbar/u-navbar\" */ \"uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uNoticeBar: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-notice-bar/u-notice-bar\" */ \"uview-ui/components/u-notice-bar/u-notice-bar.vue\"\n      )\n    },\n    uMask: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-mask/u-mask\" */ \"uview-ui/components/u-mask/u-mask.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var s0 =\n    _vm.pageMsJson && _vm.pageMsJson.shareBtnshow != 0\n      ? _vm.__get_style([_vm.shareBtnText])\n      : null\n  var s1 =\n    _vm.pageMsJson && _vm.pageMsJson.goShopBtnShow != 0\n      ? _vm.__get_style([_vm.goShopText])\n      : null\n  var s2 = _vm.pageMsJson ? _vm.__get_style([_vm.activeNameStyle]) : null\n  var s3 = _vm.pageMsJson ? _vm.__get_style([_vm.activeDesc]) : null\n  var s4 =\n    _vm.pageMsJson && _vm.pageMsJson.residueNum != 0\n      ? _vm.__get_style([_vm.residueNum])\n      : null\n  var l0 = _vm.pageMsJson\n    ? _vm.__map(_vm.pageMsJson.boxList || 6, function (item, index) {\n        var $orig = _vm.__get_orig(item)\n        var s5 =\n          (_vm.pageMsJson.BoxNum || 6) > index\n            ? _vm.__get_style([_vm.boxStyle])\n            : null\n        return {\n          $orig: $orig,\n          s5: s5,\n        }\n      })\n    : null\n  var m0 = _vm.pageMsJson ? _vm.isShow(\"giftPoolShow\") : null\n  var l1 =\n    _vm.pageMsJson && m0\n      ? _vm.__map(_vm.prizePoolList, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var m1 = _vm.prizeImg(item)\n          return {\n            $orig: $orig,\n            m1: m1,\n          }\n        })\n      : null\n  var m2 = _vm.pageMsJson ? _vm.isShow(\"myPrizeShow\") : null\n  var g0 = _vm.pageMsJson && m2 ? _vm.prizeList.length : null\n  var l2 =\n    _vm.pageMsJson && m2 && g0 > 0\n      ? _vm.__map(_vm.prizeList, function (item, __i0__) {\n          var $orig = _vm.__get_orig(item)\n          var s6 =\n            _vm.pageMsJson.myPrizeBtnShow != 0\n              ? _vm.__get_style([_vm.getBtnStyle])\n              : null\n          return {\n            $orig: $orig,\n            s6: s6,\n          }\n        })\n      : null\n  var m3 = _vm.pageMsJson ? _vm.isShow(\"activetyRuleShow\") : null\n  var s7 = _vm.pageMsJson && m3 ? _vm.__get_style([_vm.ruleContent]) : null\n  var s8 =\n    _vm.pageMsJson && _vm.pageMsJson.drawBtnShow == 1\n      ? _vm.__get_style([_vm.btnStyle])\n      : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      !_vm.isStart && _vm.goTo(\"/pages/category/index\", true)\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        s0: s0,\n        s1: s1,\n        s2: s2,\n        s3: s3,\n        s4: s4,\n        l0: l0,\n        m0: m0,\n        l1: l1,\n        m2: m2,\n        g0: g0,\n        l2: l2,\n        m3: m3,\n        s7: s7,\n        s8: s8,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"g-raffle\">\r\n    <u-navbar class=\"location-class\" :background=\"{background:'#ffffff'}\" title-size=\"36\" title-color=\"#191919\"\r\n              :border-bottom=\"false\" title=\"盲盒抽奖\"\r\n              back-icon-color=\"#191919\" :custom-back=\"backPage\"\r\n    ></u-navbar>\r\n    <block v-if=\"pageMsJson\">\r\n      <view style=\"position: relative\">\r\n        <view class=\"u-abso\" style=\"right:20rpx;top:38rpx\">\r\n          <view class=\"u-relative u-flex\" v-if=\"pageMsJson.shareBtnshow !=0\"\r\n                style=\"margin-bottom: 10rpx;flex-direction: column\"\r\n          >\r\n            <image style=\"width: 100rpx;height: 100rpx;margin-bottom: -2rpx\" :src=\"getShareBtnImg\"></image>\r\n            <view :style=\"[shareBtnText]\">{{ pageMsJson.shareBtnText }}</view>\r\n            <button class=\"share-btn\" open-type=\"share\" v-if=\"!isStart\"></button>\r\n          </view>\r\n          <view class=\"u-flex\" v-if=\"pageMsJson.goShopBtnShow !=0\" style=\"flex-direction: column\"\r\n                @click=\"!isStart && goTo('/pages/category/index',true)\"\r\n          >\r\n            <image style=\"width: 100rpx;height: 100rpx;margin-bottom: 2rpx\" :src=\"getGoBtnImg\"></image>\r\n            <view :style=\"[goShopText]\">{{ pageMsJson.goShopBtnText }}</view>\r\n          </view>\r\n        </view>\r\n        <image :src=\"getBgImg\" mode=\"widthFix\" class=\"bg-img\"></image>\r\n        <!--   抽奖描述   -->\r\n        <view class=\"gift\">\r\n          <view class=\"gift-content u-flex\">\r\n            <view class=\"title\" :style=\"[activeNameStyle]\">{{ pageMsJson.activetyName || '惊喜拆盲盒' }}</view>\r\n            <view class=\"tip u-flex\" :style=\"[activeDesc]\">{{ pageMsJson.activetyDesc || '奖品多 价值高 拆盲盒 得惊喜' }}</view>\r\n            <text class=\"num\" v-if=\"pageMsJson.residueNum !=0\" :style=\"[residueNum]\">{{ getDrawNumber }}</text>\r\n          </view>\r\n        </view>\r\n        <!-- 奖品 礼盒 记录相关  -->\r\n        <view class=\"record-card\"\r\n              :style=\"{padding: (pageMsJson.drawBtnShow == 1)?'0 30rpx 140rpx':'0 30rpx 0 '}\"\r\n        >\r\n          <view class=\"bag-box u-flex\">\r\n            <view class=\"bag u-flex\" :style=\"{padding:pageMsJson.BoxNum>4?'0 0':'0 60rpx'}\"\r\n                  v-for=\"(item,index) in (pageMsJson.boxList || 6)\"\r\n                  v-if=\"(pageMsJson.BoxNum || 6) > index\" @click=\"drawGive(index+1)\"\r\n            >\r\n              <image :src=\"boxImg\"></image>\r\n              <view class=\"box-name\" :style=\"[boxStyle]\">\r\n                <text class=\"beat\" style=\"display: inline-block\">{{ item || '拆神秘盲盒' }}</text>\r\n              </view>\r\n            </view>\r\n          </view>\r\n          <!--   奖品池   -->\r\n          <activity-card :title=\"(pageMsJson.giftPoolName || '奖品池')\" :styleObj=\"giftPool\" v-if=\"isShow('giftPoolShow')\">\r\n            <view class=\"notice\" v-if=\"pageMsJson.prizeCarousel != 0\">\r\n              <u-notice-bar style=\"width: 100%\"\r\n                            :border-radius=\"pageMsJson.prizeAngelType == 1 ? '100':'0'\"\r\n                            :font-size=\"pageMsJson.prizefontSize * 2 || '28'\"\r\n                            :bg-color=\"pageMsJson.prizeBordercolor || '#C8505C'\"\r\n                            :volume-icon=\"false\"\r\n                            :color=\"pageMsJson.prizeColor || '#ffffff'\"\r\n                            mode=\"vertical\"\r\n                            padding=\"0 0\"\r\n                            :list=\"list\"\r\n              >\r\n              </u-notice-bar>\r\n            </view>\r\n            <view class=\"prize-info u-flex\">\r\n              <view class=\"prize\" v-for=\"(item,index) in prizePoolList\">\r\n                <image :src=\"prizeImg(item)\"></image>\r\n                <view class=\"prize-name\">{{ item.prizeName }}</view>\r\n              </view>\r\n            </view>\r\n          </activity-card>\r\n          <!--   我的奖品   -->\r\n          <activity-card :title=\"(pageMsJson.myPrizeName || '我的奖品')\" :styleObj=\"myGive\" v-if=\"isShow('myPrizeShow')\">\r\n            <view class=\"my-prize\">\r\n              <block v-if=\"prizeList.length>0\">\r\n                <view class=\"u-flex prize-record\" v-for=\"item in prizeList\">\r\n                  <view>\r\n                    <view class=\"name\">{{ item.prizeName }}</view>\r\n                    <view class=\"time\">{{ item.winLotteryTime }}</view>\r\n                  </view>\r\n                  <text class=\"check-btn\" :style=\"[getBtnStyle]\" v-if=\"pageMsJson.myPrizeBtnShow != 0\" @click=\"seePrize(item)\">{{pageMsJson.myPrizeBtnName || '已发放,查看'}}</text>\r\n                </view>\r\n              </block>\r\n              <view class=\"no-prize\" v-else>暂未中奖</view>\r\n            </view>\r\n          </activity-card>\r\n          <!--   抽奖描述   -->\r\n          <activity-card :title=\"(pageMsJson.activetyRuleText || '活动规则')\" :styleObj=\"ruleTitle\"\r\n                         v-if=\"isShow('activetyRuleShow')\"\r\n          >\r\n            <view class=\"prize-describe\" :style=\"[ruleContent]\">\r\n              <text class=\"prize-describe-text\">{{ pageMsJson.activetyRuleDesc || '欢迎参加抽奖活动，如有任何问题均可联系官方客服。' }}</text>\r\n            </view>\r\n          </activity-card>\r\n          <!--  获取抽奖   -->\r\n<!--          <view class=\"get-num beat-btn\" v-if=\"activityType ==3 && numList.length>0\" @click=\"showPopup('number')\"-->\r\n          <view class=\"get-num beat-btn\" v-if=\"pageMsJson.drawBtnShow == 1\" @click=\"showPopup('number')\"\r\n                :style=\"[btnStyle]\"\r\n          >\r\n            {{ pageMsJson.drawBtnText || '获取抽奖机会' }}\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </block>\r\n    <!--  抽奖弹窗  -->\r\n    <view :class=\"{settingBox:boxAnimeShow}\">\r\n      <image style=\"width: 100%;height: 100%\" :src=\"boxImg\"></image>\r\n    </view>\r\n    <winning-popup ref=\"winningPopup\" :giftBoxInfo=\"giftBoxInfo\"></winning-popup>\r\n    <!--  活动次数弹窗  -->\r\n    <number-popup :numList=\"numList\" @addDrawNumber=\"addDrawNumber\" :activityId=\"activityId\" ref=\"numberPopup\"></number-popup>\r\n    <!--  分享弹窗  -->\r\n    <share-popup ref=\"sharePopup\"></share-popup>\r\n    <u-mask :show=\"boxAnimeShow\" :custom-style=\"{background: 'rgba(0, 0, 0, 0)'}\"></u-mask>\r\n    <!-- 口令弹窗 -->\r\n    <comfirm-popup title=\"请输入口令\" @cancel=\"cancel\" @confirm=\"command\" ref=\"comfirmPopup\">\r\n      <view class=\"input-box\">\r\n        <input type=\"text\" placeholder=\"请输入口令\" v-model=\"commandValue\" placeholder-class=\"popup-input-class\">\r\n      </view>\r\n      <view class=\"err-tip\">{{commandMsg}}</view>\r\n    </comfirm-popup>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport activityCard from \"./component/activityCard\";\r\nimport winningPopup from \"./component/winningPopup\";\r\nimport numberPopup from \"./component/numberPopup\";\r\nimport SharePopup from \"./component/sharePopup\";\r\nimport NoData from \"../../components/noData\";\r\nimport comfirmPopup from \"../raffle/component/comfirmPopup\";\r\nimport {isNull} from \"../../common/verify\";\r\n\r\nexport default {\r\n  components: {\r\n    NoData,\r\n    SharePopup,\r\n    activityCard,\r\n    winningPopup,\r\n    numberPopup,\r\n    comfirmPopup\r\n  },\r\n  data() {\r\n    return {\r\n      title:'盲盒抽奖',\r\n      activityId: '',            // 活动id\r\n      list: [],                  // 轮播滚动\r\n      prizePoolList: [],         // 奖品池\r\n      drawNumber: 0,             // 抽奖次数\r\n      prizeList: {},             // 奖品列表\r\n      numList: [],               // 增加次数列表\r\n      pageMsJson: '',            // 抽奖装修数据\r\n      giftBoxInfo: {},           // 中奖信息\r\n      boxAnimeShow: false,       // 是否显动画\r\n      activityType: 0,          // 活动类型(1:无限制抽奖;2:限制次数3：条件抽奖)\r\n      timer: '',                 // 轮询定时器\r\n      isStart: 1,                // 活动是否开始\r\n      commandValue:'',           // 口令\r\n      commandMsg:''              // 口令提示\r\n    }\r\n  },\r\n  computed: {\r\n    // 领奖按钮样式\r\n    getBtnStyle(){\r\n      const obj = this.pageMsJson || {}\r\n      const radius = obj?.awardAngelBtnType == 1 ?'100rpx':\"0\"\r\n      return {\r\n        color: obj?.awardBtnColor || '#ffffff',\r\n        fontSize: obj?.awardfontBtnSize * 2 + \"rpx\",\r\n        fontWeight: obj?.awardfontBtnWeight,\r\n        background: obj?.awardTitleBtnColor,\r\n        \"border-radius\":radius\r\n      };\r\n    },\r\n    // 获取分享按钮图片\r\n    getShareBtnImg() {\r\n      const obj = this.pageMsJson || {}\r\n      let url = '/pagesC/static/raffle/share_btn.png'\r\n      if (obj.sharebtnType = 1) {\r\n        url = obj.shareImageUrl || '/pagesC/static/raffle/share_btn.png'\r\n      }\r\n      return url\r\n    },\r\n    shareBtnText() {\r\n      const obj = this.pageMsJson || {}\r\n      return {\r\n        color: obj?.shareBtnColor || '#ffffff',\r\n        fontSize: obj?.sharefontSize * 2 + \"rpx\",\r\n        fontWeight: obj?.sharefontWeight,\r\n        'text-align': 'center',\r\n      };\r\n    },\r\n    // 获取go按钮图片\r\n    getGoBtnImg() {\r\n      const obj = this.pageMsJson || {}\r\n      let url = '/pagesC/static/raffle/go_shop.png'\r\n      if (obj.goShopbtnType = 1) {\r\n        url = obj.goShopImageUrl || '/pagesC/static/raffle/go_shop.png'\r\n      }\r\n      return url\r\n    },\r\n    goShopText() {\r\n      const obj = this.pageMsJson || {}\r\n      return {\r\n        color: obj?.goShopBtnColor || '#ffffff',\r\n        fontSize: obj?.goShopfontSize * 2 + \"rpx\",\r\n        fontWeight: obj?.goShopfontWeight,\r\n        'text-align': 'center',\r\n      };\r\n    },\r\n    // 抽奖次数处理\r\n    getDrawNumber() {\r\n      if (this.activityType == 1) {\r\n        return '免费抽奖'\r\n      }\r\n      return ` 剩余${this.drawNumber}次抽奖机会`\r\n    },\r\n    // 选项框是否隐藏\r\n    isShow() {\r\n      return type => {\r\n        const pageMsJson = this.pageMsJson || {}\r\n        if (pageMsJson[type] != 0) {\r\n          return true\r\n        }\r\n        return false\r\n      }\r\n    },\r\n    // 获取抽奖活动背景图片\r\n    getBgImg() {\r\n      const obj = this.pageMsJson || {}\r\n      if (obj.styleType == 2 && obj?.bannerType == 2) {\r\n        return obj?.bannerImageUrl || '/pagesC/static/raffle/bg.png'\r\n      }\r\n      if (obj.BoxNum == 9) {\r\n        return '/pagesC/static/raffle/bg.png'\r\n      }\r\n      return '/pagesC/static/raffle/bg4.png'\r\n    },\r\n    // 活动名称映射\r\n    activeNameStyle() {\r\n      const obj = this.pageMsJson || {}\r\n      if (obj?.styleType == 2)\r\n        return {\r\n          color: obj?.activetyNameColor,\r\n          fontSize: obj?.activetyNamefontSize * 2 + \"rpx\",\r\n          fontWeight: obj?.activetyNamefontWeight,\r\n        };\r\n    },\r\n    // 活动描述\r\n    activeDesc() {\r\n      const obj = this.pageMsJson || {}\r\n      if (obj?.styleType == 2) {\r\n        let borderRadius = 0\r\n        if (obj?.activetyDescAngelType == 1) {\r\n          borderRadius = '1000rpx'\r\n        }\r\n        return {\r\n          color: obj?.activetyDescColor,\r\n          fontSize: obj?.activetyDescfontSize * 2 + \"rpx\",\r\n          fontWeight: obj?.activetyDescfontWeight,\r\n          background: obj?.activetyDescBordercolor,\r\n          borderRadius\r\n        }\r\n      }\r\n    },\r\n    // 剩余次数\r\n    residueNum() {\r\n      const obj = this.pageMsJson || {}\r\n      if (obj?.styleType == 2) {\r\n        let borderRadius = 0\r\n        if (obj?.residueNumAngelType == 1) {\r\n          borderRadius = '1000rpx'\r\n        }\r\n        return {\r\n          color: obj?.residueNumColor,\r\n          fontSize: obj?.residueNumfontSize * 2 + \"rpx\",\r\n          fontWeight: obj?.residueNumfontWeight,\r\n          background: obj?.residueNumBordercolor,\r\n          borderRadius\r\n        }\r\n      }\r\n    },\r\n    /**\r\n     * 奖品类型 1：优惠券;2:积分;3:实物赠品）\r\n     * 奖品图片\r\n     * */\r\n    prizeImg() {\r\n      return (item = {}) => {\r\n        const type = item.prizeType\r\n        const obj = this.pageMsJson || {}\r\n        if (type == 1) {\r\n          if (obj?.couponType == 2) {\r\n            return obj?.couponImgUrl || '/pagesC/static/raffle/coupon.png'\r\n          }\r\n          return '/pagesC/static/raffle/coupon.png'\r\n        }\r\n        if (type == 2) {\r\n          if (obj?.integralType == 2) {\r\n            return obj?.integralImgUrl || '/pagesC/static/raffle/integral.png'\r\n          }\r\n          return '/pagesC/static/raffle/integral.png'\r\n        }\r\n        if (type == 3) {\r\n          return item.goodsPicture\r\n        }\r\n      }\r\n    },\r\n    //盲盒图片\r\n    boxImg() {\r\n      const obj = this.pageMsJson || {}\r\n      if (obj.styleType == 2 && obj?.BoxStyleType == 2) {\r\n        return obj?.BoxImgUrl || '/pagesC/static/raffle/box.png'\r\n      }\r\n      return '/pagesC/static/raffle/box.png'\r\n    },\r\n    // 盲盒样式\r\n    boxStyle() {\r\n      const obj = this.pageMsJson || {}\r\n      if (obj?.styleType == 2) {\r\n        let borderRadius = 0\r\n        if (obj?.BoxAngelType == 1) {\r\n          borderRadius = '1000rpx'\r\n        }\r\n        return {\r\n          color: obj?.BoxColor,\r\n          fontSize: obj?.BoxfontSize * 2 + \"rpx\",\r\n          fontWeight: obj?.BoxfontWeight,\r\n          background: obj?.BoxBordercolor,\r\n          borderRadius\r\n        }\r\n      }\r\n    },\r\n    // 奖品池\r\n    giftPool() {\r\n      const obj = this.pageMsJson || {}\r\n      if (obj?.styleType == 2) {\r\n        let borderRadius = 0\r\n        let titleBorderRadius = 0\r\n        if (obj.poolAngelType == 1) {\r\n          titleBorderRadius = '1000rpx'\r\n        }\r\n        if (obj?.pooltextAngelType == 1) {\r\n          borderRadius = '14rpx'\r\n        }\r\n        return {\r\n          color: obj?.giftPoolColor,\r\n          fontSize: obj?.giftPoolfontSize * 2 + \"rpx\",\r\n          fontWeight: obj?.giftPoolfontWeight,\r\n          titleBackground: obj?.poolTitleColor,\r\n          background: obj?.poolTextColor,\r\n          titleBorderRadius,\r\n          borderRadius\r\n        }\r\n      }\r\n    },\r\n    // 我的奖品\r\n    myGive() {\r\n      const obj = this.pageMsJson || {}\r\n      if (obj?.styleType == 2) {\r\n        let borderRadius = 0\r\n        let titleBorderRadius = 0\r\n        if (obj.awardAngelType == 1) {\r\n          titleBorderRadius = '1000rpx'\r\n        }\r\n        if (obj?.awardTextAngelType == 1) {\r\n          borderRadius = '14rpx'\r\n        }\r\n        return {\r\n          color: obj?.awardColor,\r\n          fontSize: obj?.awardfontSize * 2 + \"rpx\",\r\n          fontWeight: obj?.awardfontWeight,\r\n          titleBackground: obj?.awardTitleColor,\r\n          background: obj?.awardTextColor,\r\n          titleBorderRadius,\r\n          borderRadius\r\n        }\r\n      }\r\n    },\r\n    // 规则标题\r\n    ruleTitle() {\r\n      const obj = this.pageMsJson || {}\r\n      if (obj?.styleType == 2) {\r\n        let borderRadius = 0\r\n        let titleBorderRadius = 0\r\n        if (obj?.ruleTitleAngelType == 1) {\r\n          titleBorderRadius = '1000rpx'\r\n        }\r\n        if (obj?.ruleTextAngelType == 1) {\r\n          borderRadius = '14rpx'\r\n        }\r\n        return {\r\n          color: obj?.ruleTitleColor,\r\n          fontSize: obj?.ruleTitlefontSize * 2 + \"rpx\",\r\n          fontWeight: obj?.ruleTitlefontWeight,\r\n          titleBackground: obj?.ruleTitlebgColor,\r\n          background: obj?.ruleTextbgColor,\r\n          titleBorderRadius,\r\n          borderRadius\r\n        }\r\n      }\r\n    },\r\n    // 規則内容\r\n    ruleContent() {\r\n      const obj = this.pageMsJson || {}\r\n      if (obj?.styleType == 2) {\r\n        let borderRadius = 0\r\n        if (obj?.ruleTitleAngelType == 1) {\r\n          borderRadius = '14rpx'\r\n        }\r\n        return {\r\n          color: obj?.ruleTextColor,\r\n          fontSize: obj?.ruleTextfontSize * 2 + \"rpx\",\r\n          fontWeight: obj?.ruleTextfontWeight,\r\n          borderRadius\r\n        }\r\n      }\r\n    },\r\n    // 抽奖\r\n    btnStyle() {\r\n      const obj = this.pageMsJson || {}\r\n      if (obj?.styleType == 2) {\r\n        let borderRadius = 0\r\n        if (obj?.drawAngelType == 1) {\r\n          borderRadius = '1000rpx'\r\n        }\r\n        return {\r\n          color: obj?.drawtColor,\r\n          fontSize: obj?.drawfontSize * 2 + \"rpx\",\r\n          fontWeight: obj?.drawfontWeight,\r\n          background: obj?.drawbgColor,\r\n          borderRadius\r\n        }\r\n      }\r\n    },\r\n    getWinningImg() {\r\n      const obj = this.pageMsJson || {}\r\n      let winningPrizeImgUrl = '/pagesC/static/raffle/succeed.png'\r\n      let noWinningImgUrl = '/pagesC/static/raffle/fail.png'\r\n      let integralImgUrl = '/pagesC/static/raffle/integral.png'\r\n      let couponImgUrl = '/pagesC/static/raffle/coupon.png'\r\n      let winningPrizeColor = ''  //实物\r\n      let integralColor = ''    //积分\r\n      let couponColor = ''   //优惠券\r\n      if (obj.winningPrizeType == 2) {\r\n        winningPrizeImgUrl = obj.winningPrizeImgUrl\r\n        winningPrizeColor = obj.winningPrizeColor\r\n      }\r\n      if (obj.noWinningType == 2) {\r\n        noWinningImgUrl = obj.noWinningImgUrl\r\n      }\r\n      if (obj.integralType == 2) {\r\n        integralImgUrl = obj.integralImgUrl\r\n        integralColor = obj.integralColor\r\n      }\r\n      if (obj.couponType == 2) {\r\n        couponImgUrl = obj.couponImgUrl\r\n        couponColor = obj.integralColor\r\n      }\r\n      return {\r\n        winningPrizeImgUrl,\r\n        noWinningImgUrl,\r\n        integralImgUrl,\r\n        couponImgUrl\r\n      }\r\n    }\r\n  },\r\n  onLoad(option) {\r\n    this.activityId = option?.activityId || option?.scene || ''\r\n    wx.hideShareMenu({\r\n      menus: ['shareAppMessage', 'shareTimeline']\r\n    })\r\n  },\r\n  onShow() {\r\n    if (!this.pageMsJson) {\r\n      this.lotteryQuery()\r\n\r\n      this.lotteryQueryNumber()\r\n    }\r\n    this.lotteryMyPrize()\r\n    this.lotteryBroadcast()\r\n    if (!this.timer) {\r\n      this.timer = setInterval(() => {\r\n        this.lotteryBroadcast()\r\n      }, 5 * 1000)\r\n    }\r\n  },\r\n  onHide() {\r\n    clearInterval(this.timer)\r\n  },\r\n  onUnload() {\r\n    clearInterval(this.timer)\r\n  },\r\n  onShareAppMessage(res) {\r\n    const obj = this.pageMsJson || {}\r\n    if (res.from === 'button') {// 来自页面内分享按钮\r\n      for (let item of this.numList) {\r\n        if (this.activityType == 3 && item.sourceType == 4 && (item?.limit - item?.already)) {\r\n          this.lotteryAddNumber(4)\r\n        }\r\n      }\r\n    }\r\n    let url = '/pagesC/static/raffle/share_bg.png'\r\n    if (obj.posterType == 2) {\r\n      url = obj?.posterImgUrl || '/pagesC/static/raffle/share_bg.png'\r\n    }\r\n    return {\r\n      title: obj?.posterText,\r\n      path: `/pagesC/raffle/index?activityId=${this.activityId}`,\r\n      imageUrl: url\r\n    }\r\n  },\r\n  methods: {\r\n    // 关闭口令弹窗回调\r\n    cancel(){\r\n      this.commandValue = ''\r\n      this.commandMsg = ''\r\n    },\r\n    // 口令获取次数\r\n     async command() {\r\n      if(isNull(this.commandValue)){\r\n        this.commandMsg = '输入口令'\r\n        return\r\n      }\r\n      try {\r\n        await this.lotteryAddNumber(10,this.commandValue,false,true)\r\n        this.$refs.comfirmPopup.show = false\r\n        this.commandValue = ''\r\n        this.commandMsg = ''\r\n      }catch (e){\r\n        if(e.returnCode == 1001){\r\n          this.commandMsg = e.message\r\n        }\r\n      }\r\n    },\r\n    // 查询抽奖机会次数\r\n    async lotteryQueryNumber() {\r\n      const res = await this.$http.lotteryQueryNumber({activityId: this.activityId})\r\n      this.numList = res?.dataInfo?.conditionLotteryList || []\r\n      this.activityType = res?.dataInfo?.activityType || 0\r\n    },\r\n    // 显示弹窗\r\n    showPopup(type) {\r\n      if (type == 'number') {\r\n        this.$refs.numberPopup.show = true\r\n      }\r\n    },\r\n    /**\r\n     * 产看奖品\r\n     * 中奖类型（1优惠券 2积分 3实物赠品）\r\n     * @param obj\r\n     */\r\n    seePrize(obj = {}) {\r\n      const type = obj?.prizeType\r\n      let url = ''\r\n      if (type == 1) {\r\n        url = '/pagesA/mine/myCoupon'\r\n      }\r\n      if (type == 2) {\r\n        url = '/pagesA/myIntegral/index'\r\n      }\r\n      if (type == 3) {\r\n        url = '/pagesA/mine/myGift'\r\n      }\r\n      this.goTo(url)\r\n    },\r\n    // 查看我的奖品\r\n    async lotteryMyPrize() {\r\n      const res = await this.$http.lotteryMyPrize({activityId: this.activityId, current: 1, size: 999})\r\n      this.prizeList = res?.dataInfo?.records || []\r\n    },\r\n    // 抽奖\r\n    async drawGive(boxNum) {\r\n      if (this.isStart == -1) {\r\n        this.$toast('活动未开始')\r\n        return\r\n      }\r\n      if (this.isStart == 1) {\r\n        this.$toast('活动结束')\r\n        return\r\n      }\r\n      uni.showLoading({title: ''});\r\n      let param = {\r\n        activityId: this.activityId,\r\n        boxNumber: boxNum\r\n      }\r\n\t\t\tthis.drawNumber = this.drawNumber ? this.drawNumber - 1 : 0\r\n\t\t\t// if(this.drawNumber==0){\r\n\t\t\t// \tuni.showModal({\r\n\t\t\t// \t\t\ttitle:'温馨提示',\r\n\t\t\t// \t\tcontent:'您的抽奖机会已用完'\r\n\t\t\t// \t})\r\n\t\t\t// \tuni.hideLoading()\r\n\t\t\t// \treturn\r\n\t\t\t// }\r\n      const res = await this.$http.lotteryBlindBox(param)\r\n      this.boxAnimeShow = true\r\n      this.lotteryMyPrize()\r\n      setTimeout(() => {\r\n        this.$refs.winningPopup.show = true\r\n        this.boxAnimeShow = false\r\n      }, 2500)\r\n      let imgObj = this.getWinningImg\r\n      this.giftBoxInfo = {...imgObj, ...(res?.dataInfo || {})}\r\n\r\n    },\r\n    // 查询轮播信息\r\n    async lotteryBroadcast() {\r\n      const res = await this.$http.lotteryBroadcast({activityId: this.activityId})\r\n      this.list = (res?.dataInfo || []).map(item => {\r\n        let name = ''\r\n        if (item.nickName.length > 2) {\r\n          name = item.nickName.slice(0, 1) + '**' + item.nickName.slice(-1)\r\n        }\r\n        if (item.nickName.length == 1) {\r\n          name = item.nickName.slice(0, 1) + '**'\r\n        }\r\n        let str = `${name || '**'} 抽中了 ${item.prizeName}`\r\n        return str\r\n      })\r\n    },\r\n    // 活动详情\r\n    async lotteryQuery() {\r\n      const {dataInfo: res} = await this.$http.lotteryQuery({activityId: this.activityId})\r\n      this.prizePoolList = res?.prizePoolList || {}\r\n      this.drawNumber = res?.remainingLotteryNumber || 0\r\n      this.pageMsJson = JSON.parse(res?.pageMsJson || '{}')\r\n      this.isStart = res?.status || null\r\n    },\r\n    // 增加获奖机会\r\n    async lotteryAddNumber(type,password='',isShowMsg,isLoading) {\r\n      let param = {\r\n        activityId: this.activityId,\r\n        sourceType: type,\r\n        password\r\n      }\r\n      const res = await this.$http.lotteryAddNumber(param,isLoading,isShowMsg)\r\n      this.addDrawNumber(type)\r\n    },\r\n    // 增加抽奖次数\r\n    addDrawNumber(type) {\r\n      this.lotteryQueryNumber()\r\n      for (let item of this.numList) {\r\n        if (item.sourceType == type) {\r\n          this.drawNumber = this.drawNumber + item.count\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\npage {\r\n  background: #1D1C2A;\r\n}\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n.bg-img {\r\n  width: 100vw;\r\n  position: absolute;\r\n  z-index: -1;\r\n}\r\n\r\n.gift {\r\n  padding-bottom: 90rpx;\r\n\r\n  .gift-content {\r\n    flex-direction: column;\r\n\r\n    .title {\r\n      margin-top: 115rpx;\r\n      font-size: 80rpx;\r\n      font-family: SourceHanSansCN-Heavy, SourceHanSansCN;\r\n      font-weight: 800;\r\n      color: #FFFFFF;\r\n      text-shadow: 0rpx 8rpx 10rpx rgba(0, 0, 0, 0.28);\r\n    }\r\n\r\n    .tip {\r\n      margin-top: 44rpx;\r\n      padding: 16rpx 32rpx;\r\n      background: #CFA56D;\r\n      border-radius: 50rpx;\r\n      justify-content: center;\r\n\r\n      font-size: 28rpx;\r\n      font-family: SourceHanSansCN-Bold, SourceHanSansCN;\r\n      font-weight: bold;\r\n      color: #FFFFFF;\r\n    }\r\n\r\n    .num {\r\n      margin-top: 20rpx;\r\n      padding: 8rpx 49rpx;\r\n      display: inline-block;\r\n      background: #383838;\r\n      opacity: 0.5;\r\n\r\n      font-size: 24rpx;\r\n      font-family: SourceHanSansCN-Regular, SourceHanSansCN;\r\n      font-weight: 400;\r\n      color: #BFBFBF;\r\n    }\r\n  }\r\n}\r\n\r\n// 盲盒\r\n.bag-box {\r\n  flex-wrap: wrap;\r\n  justify-content: space-around;\r\n  margin-bottom: 80rpx;\r\n\r\n  .bag {\r\n    margin-top: 40rpx;\r\n    flex-direction: column;\r\n\r\n    image {\r\n      width: 220rpx;\r\n      height: 220rpx;\r\n    }\r\n\r\n    .box-name {\r\n      margin-top: 20rpx;\r\n      padding: 20rpx;\r\n      background: #383767;\r\n      border-radius: 34rpx;\r\n\r\n      font-size: 28rpx;\r\n      font-family: SourceHanSansCN-Bold, SourceHanSansCN;\r\n      font-weight: bold;\r\n      color: #FFFFFF;\r\n    }\r\n  }\r\n}\r\n\r\n.record-card {\r\n  top: 400rpx;\r\n  position: absolute;\r\n  padding: 0rpx 30rpx 0;\r\n  // 奖品池\r\n  .notice {\r\n    width: 100%;\r\n    padding: 0 45rpx;\r\n    margin-bottom: 10rpx;\r\n  }\r\n\r\n  .prize-info {\r\n    max-height: 570rpx;\r\n    overflow-y: scroll;\r\n    width: 100%;\r\n    padding: 0 15rpx;\r\n    justify-content: space-between;\r\n    flex-wrap: wrap;\r\n\r\n    .prize {\r\n      margin-top: 30rpx;\r\n\r\n      image {\r\n        width: 210rpx;\r\n        height: 210rpx;\r\n      }\r\n\r\n      .prize-name {\r\n        text-align: center;\r\n        font-size: 28rpx;\r\n        font-family: SourceHanSansCN-Regular, SourceHanSansCN;\r\n        font-weight: 400;\r\n        color: #FFFFFF;\r\n      }\r\n    }\r\n\r\n    &::after {\r\n      content: '';\r\n      width: 210rpx;\r\n    }\r\n  }\r\n\r\n  // 我的奖品\r\n  .my-prize {\r\n    max-height: 530rpx;\r\n    overflow-y: scroll;\r\n    width: 100%;\r\n    padding: 0 30rpx;\r\n\r\n    .prize-record {\r\n      justify-content: space-between;\r\n      margin-top: 60rpx;\r\n\r\n      .name {\r\n        font-size: 28rpx;\r\n        font-family: SourceHanSansCN-Bold, SourceHanSansCN;\r\n        font-weight: bold;\r\n        color: #FFFFFF;\r\n      }\r\n\r\n      .time {\r\n        margin-top: 10rpx;\r\n        font-size: 24rpx;\r\n        font-family: SourceHanSansCN-Regular, SourceHanSansCN;\r\n        font-weight: 400;\r\n        color: #B3B3B3;\r\n      }\r\n\r\n      .check-btn {\r\n        display: inline-block;\r\n        padding: 16rpx 30rpx;\r\n        background: #676596;\r\n        border-radius: 33rpx;\r\n\r\n        font-size: 28rpx;\r\n        font-family: SourceHanSansCN-Regular, SourceHanSansCN;\r\n        font-weight: 400;\r\n        color: #FFFFFF;\r\n      }\r\n\r\n      &:nth-of-type(1) {\r\n        margin-top: 30rpx;\r\n      }\r\n    }\r\n\r\n    .no-prize {\r\n      margin-top: 40rpx;\r\n      margin-bottom: 60rpx;\r\n      text-align: center;\r\n      font-size: 28rpx;\r\n      font-family: SourceHanSansCN-Bold, SourceHanSansCN;\r\n      font-weight: bold;\r\n      color: #FFFFFF;\r\n    }\r\n  }\r\n\r\n  // 抽奖描述\r\n  .prize-describe {\r\n    width: 100%;\r\n    text-align: left;\r\n    padding: 0 30rpx;\r\n    font-size: 28rpx;\r\n    font-family: SourceHanSansCN-Regular, SourceHanSansCN;\r\n    font-weight: 400;\r\n    color: #FFFFFF;\r\n    line-height: 40rpx;\r\n    .prize-describe-text{\r\n      word-break:break-all;   // 只对英文起作用，以字母作为换行依据\r\n      word-wrap:break-word;     // 只对英文起作用，以单词作为换行依据\r\n    }\r\n  }\r\n\r\n  // 获取抽奖次数\r\n  .get-num {\r\n    width: 60%;\r\n    //margin-bottom: 90rpx;\r\n    text-align: center;\r\n    padding: 34rpx 0;\r\n    background: #C8505C;\r\n    border-radius: 50rpx;\r\n    position: fixed;\r\n    bottom: 70rpx;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n\r\n    font-size: 32rpx;\r\n    font-family: SourceHanSansCN-Bold, SourceHanSansCN;\r\n    font-weight: bold;\r\n    color: #FFFFFF;\r\n    text-shadow: 0px 2rpx 5rpx rgba(98, 25, 25, 0.5);\r\n  }\r\n}\r\n\r\n.settingBox {\r\n  width: 240rpx;\r\n  height: 240rpx;\r\n  position: fixed;\r\n  top: 0%;\r\n  z-index: 1000;\r\n  left: 266rpx;\r\n  //transform: translateX(-50%);\r\n  image {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n\r\n@keyframes settingBox {\r\n  0% {\r\n    -webkit-transform: scale(0.5);\r\n    top: 0%;\r\n  }\r\n  15% {\r\n    -webkit-transform: scale(0.7);\r\n    top: 30%;\r\n  }\r\n  30% {\r\n    -webkit-transform: scale(1.2);\r\n    top: 50%;\r\n    -webkit-transform: translate(5px, 5px);\r\n  }\r\n  40% {\r\n    transform: translate(-5px, -5px);\r\n    top: 50%;\r\n  }\r\n  50% {\r\n    transform: translate(0px, 0px);\r\n    top: 50%;\r\n  }\r\n  60% {\r\n    transform: translate(5px, -5px);\r\n    top: 50%;\r\n  }\r\n  70% {\r\n    transform: translate(-5px, 5px);\r\n    top: 50%;\r\n  }\r\n  80% {\r\n    transform: translate(0px, 0px);\r\n    top: 50%;\r\n  }\r\n  90% {\r\n    transform: translate(5px, 5px);\r\n    top: 50%;\r\n  }\r\n  100% {\r\n    transform: translate(-5px, -5px);\r\n    top: 50%;\r\n  }\r\n}\r\n\r\n.settingBox {\r\n  // -webkit-animation: settingBox 0.5s ;\r\n  animation: settingBox 2.5s linear forwards;\r\n}\r\n\r\n@keyframes beat {\r\n  0% {\r\n    -webkit-transform: scale(1.1);\r\n  }\r\n  50% {\r\n    -webkit-transform: scale(0.8);\r\n  }\r\n  100% {\r\n    -webkit-transform: scale(1.1);\r\n  }\r\n}\r\n\r\n@keyframes beat-btn {\r\n  0% {\r\n    -webkit-transform: translateX(-50%) scale(1.1);\r\n  }\r\n  50% {\r\n    -webkit-transform: translateX(-50%) scale(0.8);\r\n  }\r\n  100% {\r\n    -webkit-transform: translateX(-50%) scale(1.1);\r\n  }\r\n}\r\n\r\n.beat {\r\n  animation: beat 1.5s linear infinite;\r\n}\r\n\r\n.beat-btn {\r\n  animation: beat-btn 1.5s linear infinite;\r\n}\r\n\r\n/deep/ .u-news-item {\r\n  width: 100%;\r\n  text-align: center;\r\n}\r\n\r\n/deep/ .u-mode-center-box {\r\n  background-color: transparent !important;\r\n}\r\n\r\n.share-btn {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 1;\r\n  width: 100%;\r\n  height: 100%;\r\n  opacity: 0;\r\n}\r\n\r\n/deep/ .u-swiper {\r\n  height: 64rpx !important;\r\n}\r\n\r\n.input-box {\r\n  padding: 20rpx;\r\n  background: #F5F5F5;\r\n  border-radius: 14rpx;\r\n}\r\n\r\n.popup-input-class {\r\n  font-family: PingFangSC-Regular;\r\n  font-size: 30rpx;\r\n  color: #999999;\r\n  letter-spacing: 0;\r\n  font-weight: 400;\r\n}\r\n\r\n.err-tip {\r\n  min-height: 0rpx;\r\n  margin-top: 20rpx;\r\n  text-align: center;\r\n  font-family: PingFangSC-Regular;\r\n  font-size: 30rpx;\r\n  color: #FF4400;\r\n  letter-spacing: 0;\r\n  font-weight: 400;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1707034211885\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=1&id=3f77845d&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=1&id=3f77845d&lang=scss&scoped=true&\""],"sourceRoot":""}