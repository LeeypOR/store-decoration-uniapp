{"version":3,"sources":["uni-app:///main.js","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/pagesD/invoice/addRise.vue?8ab8","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/pagesD/invoice/addRise.vue?713c","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/pagesD/invoice/addRise.vue?1ee1","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/pagesD/invoice/addRise.vue?3bea","uni-app:///pagesD/invoice/addRise.vue","webpack:////Users/liyaopeng/参考项目/store-decoration/store-decoration-uniapp/pagesD/invoice/addRise.vue?cfc4"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","InvoicePopup","data","addHeadType","switchValue","headType","buyerName","buyerTaxNum","buyerTel","buyerAddress","buyerBankName","buyerBankAccount","email","isDefault","content","invoiceId","orderId","orderGoodsId","showResult","resultList","onLoad","onShow","methods","clearResult","headNameAndCode","obj","code","res","buyerNameChange","fuzzyQuery","keyword","addHead","param","otherParam","orderGoodsIdList","invoiceHeadDataRequest","setTimeout","uni","console","getInvoiceDea","id","initObj","selInvoice","invoiceClick"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;AACsC;;;AAG5F;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sLAEN;AACP,KAAK;AACL;AACA,aAAa,sLAEN;AACP,KAAK;AACL;AACA,aAAa,kLAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzDA;AAAA;AAAA;AAAA;AAAq0B,CAAgB,qyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACoGz1B;AAEA;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eACA;EACAC;IAAAC;EAAA;EACAC;IACA;MACAC;MAAA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;MACA;IACA;IACA;MACA;MACA;MACA;QACA;QACA;MACA;MACA;IACA;EACA;EACAC;IAAA;IACA;MACA;QACA;MACA;IACA;EACA;EACAC,yCACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,MAEAC;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA;kBAAAC;gBAAA;cAAA;gBAAA;gBAAAC;gBACA;gBACA;cAAA;gBAEA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA;IACAC;MACA;MACA;QACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA,OAGA;kBAAAA;gBAAA;cAAA;gBAAA;gBAAAH;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAI;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEAC;kBAAAnB;kBAAAR;gBAAA;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;cAAA;gBAGA2B;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;cAAA;gBAGAA;cAAA;gBAAA,MAEA;kBAAA;kBAAA;gBAAA;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;cAAA;gBAGAA,wCACAA;kBACAzB;kBACAC;kBACAC;kBACAC;kBACAC;gBAAA,EACA;cAAA;gBAEA;gBACA;kBACAqB;kBACA;gBACA;gBACA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;cAAA;gBAGAC;kBACAC;kBACApB;kBACAqB;gBACA;gBAAA;gBAAA,OACA;cAAA;gBACA;cAAA;gBAEA;kBACAH;gBACA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBAAA,KAEA;kBAAA;kBAAA;gBAAA;gBACAA;gBAAA;gBAAA,OACA;cAAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA,OAGA;cAAA;gBACA;cAAA;gBAGAI;kBACAC;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAGAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBAAAC;gBAAA;cAAA;gBAAA;gBAAAb;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAc;MAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;EAAA;AAEA;AAAA,2B;;;;;;;;;;;;;ACxSA;AAAA;AAAA;AAAA;AAA4jD,CAAgB,47CAAG,EAAC,C","file":"pagesD/invoice/addRise.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesD/invoice/addRise.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./addRise.vue?vue&type=template&id=52516cb2&scoped=true&\"\nvar renderjs\nimport script from \"./addRise.vue?vue&type=script&lang=js&\"\nexport * from \"./addRise.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addRise.vue?vue&type=style&index=0&id=52516cb2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52516cb2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesD/invoice/addRise.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addRise.vue?vue&type=template&id=52516cb2&scoped=true&\"","var components\ntry {\n  components = {\n    uNavbar: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-navbar/u-navbar\" */ \"uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uSwitch: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-switch/u-switch\" */ \"uview-ui/components/u-switch/u-switch.vue\"\n      )\n    },\n    uMask: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-mask/u-mask\" */ \"uview-ui/components/u-mask/u-mask.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.content = 1\n    }\n    _vm.e1 = function ($event) {\n      _vm.content = 2\n    }\n    _vm.e2 = function ($event) {\n      _vm.headType = 2\n    }\n    _vm.e3 = function ($event) {\n      _vm.headType = 1\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addRise.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addRise.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"g-add-rise\">\r\n    <u-navbar class=\"location-class\" :background=\"{background:'#ffffff'}\" title-size=\"36\" title-color=\"#191919\" :border-bottom=\"false\" title=\"添加发票抬头\"\r\n              back-icon-color=\"#191919\" :custom-back=\"backPage\"></u-navbar>\r\n    <view class=\"m-option\">\r\n      <view class=\"u-flex m-line\">\r\n        <view class=\"title\">发票类型</view>\r\n        <view class=\"u-flex-9 item-right u-flex\">\r\n          <view class=\"content-btn active\">电子普通发票</view>\r\n        </view>\r\n      </view>\r\n      <view class=\"u-flex m-line\" v-if=\"addHeadType != 1\">\r\n        <view class=\"title\">发票内容</view>\r\n        <view class=\"u-flex-9 item-right u-flex\">\r\n          <view class=\"content-btn\" :class=\"{'active':content == 1}\" @click=\"content=1\">商品类别</view>\r\n          <view class=\"content-btn\" :class=\"{'active':content == 2}\" @click=\"content=2\">商品明细</view>\r\n        </view>\r\n      </view>\r\n      <view class=\"u-flex m-line\">\r\n        <view class=\"title\">收票人邮箱</view>\r\n        <view class=\"u-flex-9 item-right u-flex\">\r\n          <input type=\"text\" v-model=\"email\" placeholder=\"请输入收票人邮箱\" placeholder-class=\"inputPlaceholder\">\r\n        </view>\r\n      </view>\r\n      <view class=\"u-flex m-line\">\r\n        <view class=\"title\">抬头类型</view>\r\n        <view class=\"u-flex-9 item-right u-flex\">\r\n          <view class=\"content-btn\" :class=\"{active:headType==2}\" @click=\"headType=2\">个人</view>\r\n          <view class=\"content-btn\" :class=\"{active:headType==1}\" @click=\"headType=1\">企业</view>\r\n        </view>\r\n      </view>\r\n      <view class=\"u-flex m-line\">\r\n        <view class=\"title\">发票抬头</view>\r\n\t\t\t\t<view class=\"item-right u-flex u-flex-9\">\r\n\t\t\t\t\t<input type=\"text\"\r\n\t\t\t\t\t       class=\"u-flex-9 u-flex\"\r\n\t\t\t\t\t       @input=\"buyerNameChange\"\r\n\t\t\t\t\t       v-model=\"buyerName\"\r\n\t\t\t\t\t       placeholder=\"请输入名称\"\r\n\t\t\t\t\t       placeholder-class=\"inputPlaceholder\">\r\n\t\t\t\t\t<image v-show=\"!invoiceId && addHeadType !=1\" class=\"screen\" @click=\"invoiceClick\" src=\"/pagesD/static/image/icon_fapiao.png\"></image>\r\n\t\t\t\t</view>\r\n        <view @click=\"clearResult\" class=\"search-result\" v-if=\"headType == 1 && showResult\">\r\n          <view class=\"result u-line-1\" @click=\"headNameAndCode(item)\" hover-class=\"viewHoveClass\" v-for=\"(item,index) in resultList\" v-if=\"index<5\">{{item.name}}</view>\r\n        </view>\r\n      </view>\r\n      <view v-if=\"headType == 1\">\r\n        <view class=\"u-flex m-line\">\r\n          <view class=\"title\">公司税号</view>\r\n          <view class=\"u-flex-9 item-right u-flex\">\r\n            <input type=\"text\" v-model=\"buyerTaxNum\" placeholder=\"请填写纳税人识别号\" placeholder-class=\"inputPlaceholder\">\r\n          </view>\r\n        </view>\r\n        <view class=\"u-flex m-line\">\r\n          <view class=\"title\">开户银行</view>\r\n          <view class=\"u-flex-9 item-right u-flex\">\r\n            <input type=\"text\" v-model=\"buyerBankName\" placeholder=\"请填写单位开户银行\" placeholder-class=\"inputPlaceholder\">\r\n          </view>\r\n        </view>\r\n        <view class=\"u-flex m-line\">\r\n          <view class=\"title\">银行账户</view>\r\n          <view class=\"u-flex-9 item-right u-flex\">\r\n            <input type=\"number\" v-model=\"buyerBankAccount\" maxlength=\"19\" placeholder=\"请填写单位银行账户\" placeholder-class=\"inputPlaceholder\">\r\n          </view>\r\n        </view>\r\n        <view class=\"u-flex m-line\">\r\n          <view class=\"title\">企业地址</view>\r\n          <view class=\"u-flex-9 item-right u-flex\">\r\n            <input type=\"text\" v-model=\"buyerAddress\" placeholder=\"请填写企业地址\" placeholder-class=\"inputPlaceholder\">\r\n          </view>\r\n        </view>\r\n        <view class=\"u-flex m-line\">\r\n          <view class=\"title\">企业电话</view>\r\n          <view class=\"u-flex-9 item-right u-flex\">\r\n            <input type=\"number\" v-model=\"buyerTel\" maxlength=\"11\" placeholder=\"请填写企业电话\" placeholder-class=\"inputPlaceholder\">\r\n          </view>\r\n        </view>\r\n        <view class=\"u-flex m-line\">\r\n          <view class=\"title\">设为默认地址</view>\r\n          <view class=\"u-flex-9 item-right u-flex switch\">\r\n            <u-switch\r\n                inactive-color=\"#E6E6E6\"\r\n                active-color=\"#D1B085\"\r\n                size=\"42\"\r\n                v-model=\"switchValue\">\r\n            </u-switch>\r\n            <!-- <switch style=\"transform: scale(.8);\" @change=\"\" :checked=\"switchValue\" color=\"#D1B085\" /> -->\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <view class=\"u-text-center btn-box\">\r\n      <text class=\"commit-btn\" @click=\"addHead\">提交</text>\r\n    </view>\r\n    <invoice-popup ref=\"invoicePopup\" @popupEvent=\"getInvoiceDea\" :orderIds=\"orderId\"></invoice-popup>\r\n    <u-mask :show=\"(headType == 1 && showResult)\" @click=\"clearResult\" :custom-style=\"{background: 'rgba(0,0,0,0)'}\"></u-mask>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations } from 'vuex'\r\nimport InvoicePopup from \"./components/invoicePopup\";\r\nimport {regEmail,isNull} from \"../../common/verify\";\r\nexport default {\r\n  components: {InvoicePopup},\r\n  data(){\r\n    return {\r\n      addHeadType: 1,                       //  发票抬头类型 1(添加)  2（下单） 3（订单）\r\n      switchValue: true,\r\n      headType: 2,                       \t  // 是\t\t抬头类型(1:企业2:个人)\r\n      buyerName: '',                       \t// 是\t\t发票抬头(企业名称/个人)\r\n      buyerTaxNum: '',                      // 否\t\t公司税号\r\n      buyerTel: '',                       \t// 否\t\t企业电话\r\n      buyerAddress: '',                     // 否\t\t企业地址\r\n      buyerBankName: '',                    // 否\t\t开户银行\r\n      buyerBankAccount: '',                 // 否\t\t银行账号\r\n      email: '',                       \t    // 否\t\t邮箱\r\n      isDefault: 0,                       \t// 是\t\t是否默认(0:否1:是)\r\n      content: 1,                           // 发票内容(1:商品内别2:商品详情)\r\n      invoiceId:'',                         // 发票id\r\n      orderId: [],                          // 订单id\r\n      orderGoodsId: '',                     // 子订单id\r\n      showResult:false,                     // 是否\r\n      resultList:[]                         // 发票抬头结果列表\r\n    }\r\n  },\r\n  onLoad(option){\r\n    const invoiceInfo = option?.invoiceInfo && JSON.parse(option?.invoiceInfo)\r\n    // 1(添加)  2（下单） 3（订单）\r\n    this.addHeadType = option?.type || 1\r\n    // 修改发票抬头id\r\n    this.invoiceId = option?.invoiceId ||   ''\r\n    this.content = option?.content || 1\r\n    // 订单开发票参数\r\n    this.orderId = option.orderId?JSON.parse(option.orderId):[]\r\n    this.orderGoodsId = option?.orderGoodsId || ''\r\n    if(this.invoiceId){\r\n      this.getInvoiceDea(this.invoiceId)\r\n    }\r\n    if(invoiceInfo){\r\n      this.content = invoiceInfo?.content || 1\r\n      const id = invoiceInfo?.invoiceHeadId || ''\r\n      if(id){\r\n        this.getInvoiceDea(id)\r\n        return\r\n      }\r\n      this.initObj(invoiceInfo)\r\n    }\r\n  },\r\n  onShow(){\r\n    this.$nextTick(()=>{\r\n      if(this.$refs.invoicePopup.show){\r\n        this.$refs.invoicePopup.refreshInvoiceList()\r\n      }\r\n    })\r\n  },\r\n  methods:{\r\n    ...mapMutations(['setInvoiceInfo']),\r\n    // 清楚搜索结果\r\n    clearResult(){\r\n      this.showResult = false\r\n    },\r\n    // 获取企业税号\r\n    async headNameAndCode(obj) {\r\n      try {\r\n        if (obj?.code) {\r\n          const {dataInfo: res} = await this.$http.headNameAndCode({code: obj?.code})\r\n          this.buyerTaxNum = res?.buyerTaxNum || this.buyerTaxNum\r\n          this.buyerName = res?.buyerName || this.buyerName\r\n        }\r\n        this.clearResult()\r\n      } catch (e) {\r\n        this.clearResult()\r\n      }\r\n    },\r\n    // 发票抬头发生改变\r\n    buyerNameChange(e){\r\n      this.buyerName = e.target.value\r\n      if(this.buyerName.length>=3 && this.headType !=2){\r\n        this.showResult = true\r\n        this.$u.debounce(this.fuzzyQuery, 500)\r\n      }\r\n    },\r\n    //发票抬头模糊查询\r\n    async fuzzyQuery(){\r\n      let keyword = this.buyerName || ''\r\n      if(this.buyerName.length<3){\r\n        return\r\n      }\r\n      const {dataInfo:res} = await this.$http.fuzzyQuery({keyword})\r\n      this.resultList = res || []\r\n    },\r\n    // 添加抬头\r\n    async addHead(){\r\n\t\t\ttry{\r\n\t\t\t\tlet param = {isDefault:0,headType:this.headType}\r\n\t\t\t\tif(isNull(this.buyerName)){\r\n\t\t\t\t  this.$toast('发票抬头不能为空')\r\n\t\t\t\t  return\r\n\t\t\t\t}\r\n\t\t\t\tparam.buyerName = this.buyerName\r\n\t\t\t\tif(this.email){\r\n\t\t\t\t  if(regEmail(this.email)){\r\n\t\t\t\t    this.$toast('请输入正确的邮箱')\r\n\t\t\t\t    return\r\n\t\t\t\t  }\r\n\t\t\t\t  param.email = this.email\r\n\t\t\t\t}\r\n\t\t\t\tif(this.headType == 1){\r\n\t\t\t\t  if(isNull(this.buyerTaxNum)){\r\n\t\t\t\t    this.$toast('请填写公司税号')\r\n\t\t\t\t    return\r\n\t\t\t\t  }\r\n\t\t\t\t  param = {\r\n\t\t\t\t    ...param,\r\n\t\t\t\t    buyerTaxNum:this.buyerTaxNum,\r\n\t\t\t\t    buyerTel:this.buyerTel,\r\n\t\t\t\t    buyerAddress:this.buyerAddress,\r\n\t\t\t\t    buyerBankName:this.buyerBankName,\r\n\t\t\t\t    buyerBankAccount:this.buyerBankAccount,\r\n\t\t\t\t  }\r\n\t\t\t\t}\r\n\t\t\t\t// 下单 直接回传数据\r\n\t\t\t\tif(this.addHeadType == 2){\r\n\t\t\t\t  param.content = this.content\r\n\t\t\t\t  this.setInvoiceInfo(param)\r\n\t\t\t\t}\r\n\t\t\t\t// 订单发票\r\n\t\t\t\tif(this.addHeadType == 3){\r\n\t\t\t\t  if(!this.orderId ){\r\n\t\t\t\t    this.$toast('订单不存在')\r\n\t\t\t\t    return\r\n\t\t\t\t  }\r\n\t\t\t\t  const otherParam = {\r\n\t\t\t\t    orderGoodsIdList:this.orderId,\r\n\t\t\t\t    content:this.content,\r\n\t\t\t\t    invoiceHeadDataRequest:param\r\n\t\t\t\t  }\r\n\t\t\t\t  await this.$http.invoiceIssue(otherParam)\r\n\t\t\t\t  this.$toast('添加成功')\r\n\t\t\t\t}\r\n\t\t\t\tif(this.switchValue){\r\n\t\t\t\t  param.isDefault = 1\r\n\t\t\t\t}\r\n\t\t\t\tif(this.addHeadType == 1){\r\n\t\t\t\t  // 修改发票抬头\r\n\t\t\t\t  if(this.invoiceId){\r\n\t\t\t\t    param.id = this.invoiceId\r\n\t\t\t\t    await this.$http.invoiceUpdate(param)\r\n\t\t\t\t    this.$toast('修改成功')\r\n\t\t\t\t  }else{\r\n\t\t\t\t    // 正常添加发票抬头\r\n\t\t\t\t    await this.$http.addInvoiceHead(param)\r\n\t\t\t\t    this.$toast('添加成功')\r\n\t\t\t\t  }\r\n\t\t\t\t}\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t  uni.navigateBack()\r\n\t\t\t\t},400)\r\n\t\t\t}catch(e){\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\t//TODO handle the exception\r\n\t\t\t}\r\n      \r\n    },\r\n    // 获取发票抬头详情\r\n    async getInvoiceDea(invoiceId) {\r\n      const {dataInfo:res} = await this.$http.getHeadById({id:invoiceId})\r\n      this.$refs.invoicePopup.show = false\r\n      this.initObj(res)\r\n    },\r\n    // 初始化参数\r\n    initObj(res={}){\r\n      this.headType = res?.headType || 2\r\n      this.buyerName = res?.buyerName ||''\r\n      this.buyerTaxNum = res?.buyerTaxNum || ''\r\n      this.buyerTel = res?.buyerTel || ''\r\n      this.buyerAddress = res?.buyerAddress|| ''\r\n      this.buyerBankName = res?.buyerBankName|| ''\r\n      this.buyerBankAccount = res?.buyerBankAccount|| ''\r\n      this.email = res?.email || ''\r\n      this.isDefault = res?.isDefault || 0\r\n      if(this.isDefault == 0){\r\n        this.switchValue = false\r\n      }\r\n    },\r\n    // 选择发票抬头\r\n    selInvoice(){\r\n      this.goTo('/pagesD/invoice/addRise')\r\n    },\r\n    // 发票点击\r\n    invoiceClick(){\r\n      this.$refs.invoicePopup.show = true\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.g-add-rise {\r\n  .m-option {\r\n    padding: 0 30rpx;\r\n    background: #ffffff;\r\n    margin-top: 20rpx;\r\n    .m-line {\r\n      position: relative;\r\n      padding: 40rpx 0 30rpx;\r\n\t\t\t.item-right{\r\n\t\t\t\t position: relative;\r\n\t\t\t\t&::after{\r\n\t\t\t\t\t content:'';\r\n\t\t\t\t\t background: #e6e6e6;\r\n\t\t\t\t\t width: 100%;\r\n\t\t\t\t\t height: 1rpx;\r\n\t\t\t\t\t position: absolute;\r\n\t\t\t\t\t left: 0;\r\n\t\t\t\t\t bottom: -30rpx;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t  &:nth-last-of-type(1){\r\n\t\t\t\t .item-right{\r\n          position: relative;\r\n          &::after{\r\n              content:'';\r\n              height: 0;\r\n              position: absolute;\r\n              left: 0;\r\n              bottom: -30rpx;\r\n          }\r\n\t\t\t\t }\r\n\t\t\t}\r\n      .title {\r\n        width: 180rpx;\r\n      }\r\n      .content-btn {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        width: 240rpx;\r\n        height: 60rpx;\r\n        border-radius: 45rpx;\r\n        background: #F1F1F1;\r\n        color: #191919;\r\n        font-size: 28rpx;\r\n        font-family: PingFang SC,PingFangSC-Semibold;\r\n        font-weight: 400;\r\n        &:first-of-type{\r\n          margin-right: 30rpx;\r\n        }\r\n        &.active{\r\n          font-weight: 600;\r\n          border: 2rpx solid #D1B085;\r\n          background: #FFF4E5;\r\n          color: #D1B085;\r\n        }\r\n      }\r\n      .switch{\r\n        justify-content: flex-end;\r\n      }\r\n      .screen{\r\n        padding-left: 20rpx;\r\n        width: 40rpx;\r\n        height: 40rpx;\r\n      }\r\n      .search-result{\r\n        //padding-top:38rpx ;\r\n        z-index: \t100779;\r\n        top: 108rpx;\r\n        position: absolute;\r\n        width: 690rpx;\r\n        height: 428rpx;\r\n        background: #ffffff;\r\n        border-radius: 14rpx;\r\n        box-shadow: 0px 4rpx 20rpx 0px rgba(0,0,0,0.1);\r\n        &:before{\r\n          content: '';\r\n          position: absolute;\r\n          top: -20rpx;\r\n          left: 40rpx;\r\n          width: 0;\r\n          height: 0;\r\n          border-left: 14rpx solid transparent;\r\n          border-right: 14rpx solid transparent;\r\n          border-bottom: 20rpx solid  rgba(255,255,255,0.9);\r\n          //border-bottom: 20rpx solid red;\r\n        }\r\n        .result{\r\n          padding: 24rpx 30rpx 20rpx;\r\n          font-family: PingFangSC-Regular;\r\n          font-size: 30rpx;\r\n          color: #999999;\r\n          letter-spacing: 0;\r\n          font-weight: 400;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.btn-box{\r\n  margin-top: 70rpx;\r\n  margin-bottom: iphone-bottom(50rpx);\r\n  .commit-btn{\r\n    padding: 20rpx 247rpx;\r\n    background: #D1B085;\r\n    border-radius: 45rpx;\r\n    font-size: 28rpx;\r\n    font-family: PingFangSC-Semibold, PingFang SC;\r\n    font-weight: 600;\r\n    color: #FFFFFF;\r\n  }\r\n}\r\n\r\n/deep/.inputPlaceholder{\r\n  font-size: 28rpx;\r\n  font-family: PingFangSC-Regular, PingFang SC;\r\n  font-weight: 400;\r\n  color: #999999;\r\n}\r\n/deep/.u-switch{\r\n  width: 88rpx!important;\r\n  height: 44rpx!important;\r\n}\r\n/deep/.u-switch__node{\r\n  box-shadow: 0 0 !important;\r\n}\r\ninput{\r\n  width: 100%;\r\n}\r\n.viewHoveClass{\r\n  background: #f8f8f8;\r\n  \r\n}\r\n</style>","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addRise.vue?vue&type=style&index=0&id=52516cb2&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addRise.vue?vue&type=style&index=0&id=52516cb2&scoped=true&lang=scss&\""],"sourceRoot":""}